/*! For license information please see main.69a0841d.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,F=Object.assign;function V(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function U(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ee=null;function Te(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Ie(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function ke(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function De(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(De(),ke())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Le=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Le=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Fe=null,Ve=!1,je=null,Be={onError:function(e){Oe=!0,Fe=e}};function Ue(e,t,n,r,i,s,o,a,l){Oe=!1,Fe=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,Et,Tt,It=!1,kt=[],Ct=null,Dt=null,At=null,Nt=new Map,Pt=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Bt(){It=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Dt&&Vt(Dt)&&(Dt=null),null!==At&&Vt(At)&&(At=null),Nt.forEach(jt),Pt.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Dt&&Ut(Dt,e),null!==At&&Ut(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Lt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ot(Ct,e,t,n,r,i),!0;case"dragenter":return Dt=Ot(Dt,e,t,n,r,i),!0;case"mouseover":return At=Ot(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Ot(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return En}var In=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(In),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Nn),Ln=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Rn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Vr(e,0)}function Yn(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,xe(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Er={};function Tr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=Tr("animationend"),kr=Tr("animationiteration"),Cr=Tr("animationstart"),Dr=Tr("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Lr=0;Lr<Nr.length;Lr++){var Rr=Nr[Lr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(kr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ue.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Fe;Oe=!1,Fe=null,Ve||(Ve=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=xe(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Ir:case kr:case Cr:l=yn;break;case Dr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,m=d;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Hr(u),d=Hr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Gn(a))if($n)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Wr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Un(n))&&(w.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,s))&&o.unshift(Kr(n,l,a)):i||null!=(l=Pe(n,s))&&o.push(Kr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Si=[],_i=-1;function Ei(e){return{current:e}}function Ti(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ii(e,t){_i++,Si[_i]=e.current,e.current=t}var ki={},Ci=Ei(ki),Di=Ei(!1),Ai=ki;function Ni(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ti(Di),Ti(Ci)}function Ri(e,t,n){if(Ci.current!==ki)throw Error(s(168));Ii(Ci,t),Ii(Di,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ai=Ci.current,Ii(Ci,e),Ii(Di,Di.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Di),Ti(Ci),Ii(Ci,e)):Ti(Di),Ii(Di,n)}var Vi=null,ji=!1,Bi=!1;function Ui(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!Bi&&null!==Vi){Bi=!0;var e=0,t=wt;try{var n=Vi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,zi),i}finally{wt=t,Bi=!1}}return null}var qi=[],Gi=0,Ki=null,Wi=0,Hi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Gi++]=Wi,qi[Gi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=$i,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Wi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ei(null),vs=null,ws=null,bs=null;function xs(){bs=ws=vs=null}function Ss(e){var t=ys.current;Ti(ys),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Is=null;function ks(e){null===Is?Is=[e]:Is.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ks(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,ks(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var js=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Us={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ls(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ls(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ls(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rs(e,i,r))&&(rc(t,e,r,n),Ms(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Pi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=js,Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Pi(t)?Ai:Ci.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Us.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===js&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ws(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ws(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ws(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===_?((s=Oc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=Ws(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=jc(o,r.mode,l)).return=r,r=s}return a(r);case P:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);Hs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Vc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Ys(!0),$s=Ys(!1),Js={},Zs=Ei(Js),eo=Ei(Js),to=Ei(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),Ii(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Ii(eo,e),Ii(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Ei(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,wo=!1,bo=0,xo=0;function So(){throw Error(s(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function ko(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Do(e){var t=ko(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=ko(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=mo,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Go(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Oo(t)&&Fo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ds(e,1);null!==t&&rc(t,e,1,-1)}function Vo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return ko().memoizedState}function Uo(e,t,n,r){var i=Io();mo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=ko();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,s,r))}mo.flags|=e,i.memoizedState=jo(1|t,n,s,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Go(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return ko().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Cs(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,ks(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Cs(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Ts,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Io();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Al.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:Xo,useContext:Ts,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:$o,useReducer:Do,useRef:Bo,useState:function(){return Do(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(ko(),go.memoizedState,e)},useTransition:function(){return[Do(Co)[0],ko().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:Xo,useContext:Ts,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:$o,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=ko();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],ko().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ls(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Wl=r),da(0,t)},n}function ma(e,t,n){(n=Ls(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ls(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?$s(t,null,n,r):Xs(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Eo(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function _a(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ii(Rl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ii(Rl,Ll),Ll|=r;return xa(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Pi(n)?Ai:Ci.current;return s=Ni(t,s),Es(t,i),n=Eo(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var s=!0;Oi(t)}else s=!1;if(Es(t,i),null===t.stateNode)Ga(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Ni(t,c=Pi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Gs(t,o,r,c),As=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Di.current||As?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(a=As||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Ni(t,l=Pi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Gs(t,o,r,l),As=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Di.current||As?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=As||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Da(e,t,n,r,s,i)}function Da(e,t,n,r,i,s){Ia(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ka(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):xa(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Na(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xa(e,t,n,r),t.child}var Pa,La,Ra,Ma,Oa={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Va(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Oa,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),rc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=$i,Hi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Pi(t.type)&&Li(),Ha(t),null;case 3:return r=t.stateNode,io(),Ti(Di),Ti(Ci),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),La(e,t),Ha(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&jr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return io(),La(e,t),null===e&&zr(t.stateNode.containerInfo),Ha(t),null;case 10:return Ss(t.type._context),Ha(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ao.current,Ii(ao,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Di),Ti(Ci),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,gl(t,e),$a=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Za=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var c=$a;if(Xa=o,($a=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Za=l):_l(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Xa=a,$a=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):xl(e)}}function xl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function _l(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,Tl=Math.ceil,Il=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Dl=0,Al=null,Nl=null,Pl=0,Ll=0,Rl=Ei(0),Ml=0,Ol=null,Fl=0,Vl=0,jl=0,Bl=null,Ul=null,zl=0,ql=1/0,Gl=null,Kl=!1,Wl=null,Hl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Dl)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Dl)&&e===Al||(e===Al&&(0===(2&Dl)&&(Vl|=n),4===Ml&&lc(e,Pl)),ic(e,r),1===n&&0===Dl&&0===(1&t.mode)&&(ql=$e()+500,ji&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Dl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Dl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Dl;Dl|=2;var o=mc();for(Al===e&&Pl===t||(Gl=null,ql=$e()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}xs(),Il.current=o,Dl=i,null!==Nl?t=0:(Al=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ol,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ol,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,Ul,Gl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Ul,Gl),t);break}Sc(e,Ul,Gl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Ul,Gl),r);break}Sc(e,Ul,Gl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~jl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Dl))throw Error(s(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Ul,Gl),ic(e,$e()),null}function uc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&(ql=$e()+500,ji&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Dl)&&_c();var t=Dl;Dl|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(Dl=t))&&zi()}}function dc(){Ll=Rl.current,Ti(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Ti(Di),Ti(Ci),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Ss(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Nl=e=Rc(e.current,null),Pl=Ll=t,Ml=0,Ol=null,jl=Vl=Fl=0,Ul=Bl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(r=(n=Is[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(xs(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,wo=!1,bo=0,kl.current=null,null===n||null===n.return){Ml=1,Ol=t,Nl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Os(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Os(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Il.current;return Il.current=oa,null===e?oa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&Fl)&&0===(268435455&Vl)||lc(Al,Pl)}function yc(e,t){var n=Dl;Dl|=2;var r=mc();for(Al===e&&Pl===t||(Gl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(xs(),Dl=n,Il.current=r,null!==Nl)throw Error(s(261));return Al=null,Pl=0,Ml}function vc(){for(;null!==Nl;)bc(Nl)}function wc(){for(;null!==Nl&&!Ye();)bc(Nl)}function bc(e){var t=El(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?xc(e):Nl=t,kl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ll)))return void(Nl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{_c()}while(null!==Yl);if(0!==(6&Dl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Nl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=wt;wt=1;var l=Dl;Dl|=4,kl.current=null,function(e,t){if(ei=Gt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(x){Tc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Dl=l,wt=a,Cl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Jl?$l++:($l=0,Jl=e):$l=0,zi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function _c(){if(null!==Yl){var e=bt(Xl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Dl))throw Error(s(331));var i=Dl;for(Dl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Tc(l,l.return,S)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(Dl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Rs(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Rs(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>$e()-zl?fc(e,0):jl|=n),ic(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ds(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Lc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case E:a=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case D:return(e=Pc(13,n,t,i)).elementType=D,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case L:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case k:a=9;break e;case C:a=11;break e;case N:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function zc(e){if(!e)return ki;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Uc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Ls(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ls(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Rs(i,t,o))&&(rc(e,i,o,s),Ms(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(Ii(ao,1&ao.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ii(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Es(t,n),i=Eo(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ns(t),i.updater=Us,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=Da(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=gs(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=_a(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ia(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Va(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ii(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Di.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ls(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_s(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_s(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=Ts(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),_a(e,t,r,i=gs(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ga(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,Es(t,n),qs(t,r,i),Ks(t,r,i,n),Da(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Kc(o);a.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Gc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,$e()),0===(6&Dl)&&(ql=$e()+500,zi()))}break;case 13:hc((function(){var t=Ds(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},St=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ds(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},Et=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));H(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,De=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,xi,Ie,ke,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),D(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=D(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=D(a=a.value,t,i,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},L={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,L(S);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!D());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,T=null,I=-1,k=5,C=-1;function D(){return!(t.unstable_now()-C<k)}function A(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?_():(E=!1,T=null)}}else E=!1}if("function"===typeof w)_=function(){w(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function L(e){T=e,E||(E=!0,_())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(I),I=-1):g=!0,R(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,L(S))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".0f8d78ff.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="app:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/app/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>Wl,SDK_VERSION:()=>Wc,_DEFAULT_ENTRY_NAME:()=>Rc,_addComponent:()=>Vc,_addOrOverwriteComponent:()=>jc,_apps:()=>Oc,_clearComponents:()=>qc,_components:()=>Fc,_getProvider:()=>Uc,_registerComponent:()=>Bc,_removeServiceInstance:()=>zc,deleteApp:()=>Xc,getApp:()=>Qc,getApps:()=>Yc,initializeApp:()=>Hc,onLog:()=>Jc,registerVersion:()=>$c,setLogLevel:()=>Zc});var t,r=n(791),i=n.t(r,2),s=n(250),o=n(164),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){h=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,v),m=e,()=>{s.removeEventListener(c,v),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=y()+1;let l=d(i,g),c=b.createHref(i);try{a.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(c)}o&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=y();let s=d(i,g),l=b.createHref(i);a.replaceState(s,"",l),o&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=D(i[o],N(r));return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,S=3,_=2,E=1,T=10,I=-2,k=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=I),t&&(r+=_),n.filter((e=>!k(e))).reduce(((e,t)=>e+(x.test(t)?S:""===t?E:T)),r)}function D(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:F([i,c.pathname]),pathnameBase:V(F([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=F([i,c.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return h(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function N(e){try{return decodeURI(e)}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=R(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:j(r),hash:B(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const K=r.createContext(null);const W=r.createContext(null);const H=r.createContext(null);const Q=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const X=r.createContext(null);function $(){return null!=r.useContext(Q)}function J(){return $()||u(!1),r.useContext(Q).location}function Z(e){r.useContext(H).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=de(ce.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))}),[e,t]);return i}():function(){$()||u(!1);let e=r.useContext(K),{basename:t,future:n,navigator:i}=r.useContext(H),{matches:s}=r.useContext(Y),{pathname:o}=J(),a=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return Z((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=O(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(H),{matches:s}=r.useContext(Y),{pathname:o}=J(),a=JSON.stringify(M(s,i.v7_relativeSplatPath));return r.useMemo((()=>O(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ne(e,n,i,s){$()||u(!1);let{navigator:o}=r.useContext(H),{matches:a}=r.useContext(Y),l=a[a.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=J();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||u(!1),d=e}else d=f;let g=d.pathname||"/",y=v(e,{pathname:"/"===h?g:g.slice(h.length)||"/"});let w=ae(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&w?r.createElement(Q.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},w):w}function re(){let e=function(){var e;let t=r.useContext(X),n=he(ce.UseRouteError),i=de(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const ie=r.createElement(re,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function ae(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,u=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||ie,c&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),u=!0,f=null):h===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=r.useContext(K);return t||u(!1),t}function he(e){let t=r.useContext(W);return t||u(!1),t}function de(e){let t=function(e){let t=r.useContext(Y);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const fe={};i.startTransition;function pe(e){u(!1)}function me(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:c}=e;$()&&u(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:l,future:G({v7_relativeSplatPath:!1},c)})),[h,c,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,w=r.useMemo((()=>{let e=P(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:o}}),[h,f,p,g,y,v,o]);return null==w?null:r.createElement(H.Provider,{value:d},r.createElement(Q.Provider,{children:i,value:w}))}function ge(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==pe&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)})),n}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xe=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const Se=r.createContext({isTransitioning:!1});new Map;const _e=i.startTransition;a.flushSync,i.useId;function Ee(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.createElement(me,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=we(e,be),{basename:g}=r.useContext(H),y=!1;if("string"===typeof h&&Ie.test(h)&&(n=h,Te))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=P(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(b){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;$()||u(!1);let{basename:i,navigator:s}=r.useContext(H),{hash:o,pathname:a,search:l}=te(e,{relative:n}),c=a;return"/"!==i&&(c="/"===a?i:F([i,a])),s.createHref({pathname:c,search:l,hash:o})}(h,{relative:s}),w=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),h=te(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,n,e,o,a,l])}(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:f});return r.createElement("a",ve({},m,{href:n||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));const Ce=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,d=we(e,xe),f=te(l,{relative:d.relative}),p=J(),m=r.useContext(W),{navigator:g,basename:y}=r.useContext(H),v=null!=m&&function(e,t){void 0===t&&(t={});let n=r.useContext(Se);null==n&&u(!1);let{basename:i}=Ne(De.useViewTransitionState),s=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=P(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=P(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=A(s.pathname,a)||null!=A(s.pathname,o)}(f)&&!0===c,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&y&&(x=P(x,y)||x);const S="/"!==w&&w.endsWith("/")?w.length-1:w.length;let _,E=b===w||!o&&b.startsWith(w)&&"/"===b.charAt(S),T=null!=x&&(x===w||!o&&x.startsWith(w)&&"/"===x.charAt(w.length)),I={isActive:E,isPending:T,isTransitioning:v},k=E?n:void 0;_="function"===typeof s?s(I):[s,E?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof a?a(I):a;return r.createElement(ke,ve({},d,{"aria-current":k,className:_,ref:t,style:C,to:l,unstable_viewTransition:c}),"function"===typeof h?h(I):h)}));var De,Ae;function Ne(e){let t=r.useContext(K);return t||u(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));var Pe=n(184);const Le=function(){const[e,t]=(0,r.useState)("nav__menu"),[n,i]=(0,r.useState)("nav__toggler"),s=e=>{window.open(e,"_blank")};return(0,Pe.jsxs)("nav",{className:"nav",children:[(0,Pe.jsx)("a",{href:"/",className:"nav__brand",children:"Dhara Global Solutions"}),(0,Pe.jsx)("div",{className:"footer-icon",onClick:()=>s("https://www.linkedin.com/company/dhara-global-solutions/"),children:(0,Pe.jsx)("img",{src:"https://i.imgur.com/aNQWKg0.png",alt:"LinkedIn Icon"})}),(0,Pe.jsx)("div",{className:"footer-icon",onClick:()=>s("https://mail.google.com/mail/u/0/#inbox"),children:(0,Pe.jsx)("img",{src:"https://i.imgur.com/UGUaRt4.png",alt:"External Link Icon"})}),(0,Pe.jsx)("div",{className:"footer-icon",onClick:()=>s("https://www.instagram.com/dharaglobalsolutions/"),children:(0,Pe.jsx)("img",{src:"https://i.imgur.com/LrQqS09.png",alt:"Instagram Icon"})}),(0,Pe.jsxs)("ul",{className:e,children:[(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/",className:"nav__link",children:"Home"})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/about",className:"nav__link",children:"About"})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/contact",className:"nav__link",children:"Contact"})})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/services",className:"nav__link",children:"Services"})})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/testimonials",className:"nav__link",children:"Testimonials"})})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/verify",className:"nav__link",children:"Verification"})})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/reg",className:"nav__link",children:"IntershipReg"})})}),(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)("li",{className:"nav__item",children:(0,Pe.jsx)(Ce,{to:"/book",className:"nav__link",children:"Book"})})})]}),(0,Pe.jsxs)("div",{onClick:()=>{t("nav__menu"===e?"nav__menu nav__active":"nav__menu"),i("nav__toggler"===n?"nav__toggler toggle":"nav__toggler")},className:n,children:[(0,Pe.jsx)("div",{className:"line1"}),(0,Pe.jsx)("div",{className:"line2"}),(0,Pe.jsx)("div",{className:"line3"})]})]})};function Re(e,t){-1===e.indexOf(t)&&e.push(t)}function Me(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Oe{constructor(){this.subscriptions=[]}add(e){return Re(this.subscriptions,e),()=>Me(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Fe(e,t){return t?e*(1e3/t):0}const Ve=!1,je=!1,Be=e=>e;class Ue{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const ze=["prepare","read","update","preRender","render","postRender"];function qe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ze.reduce(((e,t)=>(e[t]=function(e){let t=new Ue,n=new Ue,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),a.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];o.has(r)&&(a.schedule(r),e()),r(l)}i=!1,s&&(s=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),o=e=>{s[e].process(i)},a=()=>{const s=je?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,ze.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=ze.reduce(((t,o)=>{const l=s[o];return t[o]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)},t}),{});return{schedule:l,cancel:e=>ze.forEach((t=>s[t].cancel(e))),state:i,steps:s}}const{schedule:Ge,cancel:Ke,state:We,steps:He}=qe("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Be,!0);let Qe;function Ye(){Qe=void 0}const Xe={now:()=>(void 0===Qe&&Xe.set(We.isProcessing||je?We.timestamp:performance.now()),Qe),set:e=>{Qe=e,queueMicrotask(Ye)}},$e={current:void 0};class Je{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="11.0.3",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Xe.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xe.now()}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Oe);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ge.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return $e.current&&$e.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xe.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Fe(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ze(e,t){return new Je(e,t)}function et(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}let tt=Be,nt=Be;const rt=new WeakMap;let it;function st(e){let{target:t,contentRect:n,borderBoxSize:r}=e;var i;null===(i=rt.get(t))||void 0===i||i.forEach((e=>{e({target:t,contentSize:n,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(t,r)}})}))}function ot(e){e.forEach(st)}function at(e,t){it||"undefined"!==typeof ResizeObserver&&(it=new ResizeObserver(ot));const n=function(e,t,n){var r;if("string"===typeof e){let i=document;t&&(nt(Boolean(t.current),"Scope provided, but no element detected."),i=t.current),n?(null!==(r=n[e])&&void 0!==r||(n[e]=i.querySelectorAll(e)),e=n[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}(e);return n.forEach((e=>{let n=rt.get(e);n||(n=new Set,rt.set(e,n)),n.add(t),null===it||void 0===it||it.observe(e)})),()=>{n.forEach((e=>{const n=rt.get(e);null===n||void 0===n||n.delete(t),(null===n||void 0===n?void 0:n.size)||null===it||void 0===it||it.unobserve(e)}))}}const lt=new Set;let ct;function ut(e){return lt.add(e),ct||(ct=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};lt.forEach((e=>e(t)))},window.addEventListener("resize",ct)),()=>{lt.delete(e),!lt.size&&ct&&(ct=void 0)}}const ht=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},dt=50,ft=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),pt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function mt(e,t,n,r){const i=n[t],{length:s,position:o}=pt[t],a=i.current,l=n.time;i.current=e["scroll"+o],i.scrollLength=e["scroll"+s]-e["client"+s],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ht(0,i.scrollLength,i.current);const c=r-l;i.velocity=c>dt?0:Fe(i.current-a,c)}const gt={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},yt={start:0,center:.5,end:1};function vt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(void 0!==yt[e]&&(e=yt[e]),"string"===typeof e){const t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return"number"===typeof e&&(r=t*e),n+r}const wt=[0,0];function bt(e,t,n,r){let i=Array.isArray(e)?e:wt,s=0,o=0;return"number"===typeof e?i=[e,e]:"string"===typeof e&&(i=(e=e.trim()).includes(" ")?e.split(" "):[e,yt[e]?e:"0"]),s=vt(i[0],n,r),o=vt(i[1],t),s-o}const xt=e=>Math.round(1e5*e)/1e5,St=/(-)?([\d]*\.?[\d])+/g,_t=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Et=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Tt(e){return"string"===typeof e}const It=(e,t,n)=>Math.min(Math.max(n,e),t),kt={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Ct={...kt,transform:e=>It(0,1,e)},Dt={...kt,default:1},At=(e,t)=>n=>Boolean(Tt(n)&&Et.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Nt=(e,t,n)=>r=>{if(!Tt(r))return r;const[i,s,o,a]=r.match(St);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Pt={...kt,transform:e=>Math.round((e=>It(0,255,e))(e))},Lt={test:At("rgb","red"),parse:Nt("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Pt.transform(t)+", "+Pt.transform(n)+", "+Pt.transform(r)+", "+xt(Ct.transform(i))+")"}};const Rt={test:At("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Lt.transform},Mt=e=>({test:t=>Tt(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Ot=Mt("deg"),Ft=Mt("%"),Vt=Mt("px"),jt=Mt("vh"),Bt=Mt("vw"),Ut={...Ft,parse:e=>Ft.parse(e)/100,transform:e=>Ft.transform(100*e)},zt={test:At("hsl","hue"),parse:Nt("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Ft.transform(xt(n))+", "+Ft.transform(xt(r))+", "+xt(Ct.transform(i))+")"}},qt={test:e=>Lt.test(e)||Rt.test(e)||zt.test(e),parse:e=>Lt.test(e)?Lt.parse(e):zt.test(e)?zt.parse(e):Rt.parse(e),transform:e=>Tt(e)?e:e.hasOwnProperty("red")?Lt.transform(e):zt.transform(e)},Gt=(e,t,n)=>-n*e+n*t+e;function Kt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Wt=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ht=[Rt,Lt,zt];function Qt(e){const t=(e=>Ht.find((t=>t.test(e))))(e);nt(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===zt&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Kt(i,e,t+1/3),o=Kt(i,e,t),a=Kt(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const Yt=(e,t)=>{const n=Qt(e),r=Qt(t),i={...n};return e=>(i.red=Wt(n.red,r.red,e),i.green=Wt(n.green,r.green,e),i.blue=Wt(n.blue,r.blue,e),i.alpha=Gt(n.alpha,r.alpha,e),Lt.transform(i))},Xt=(e,t)=>n=>t(e(n)),$t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Xt)},Jt=e=>t=>"string"===typeof t&&t.startsWith(e),Zt=Jt("--"),en=Jt("var(--");const tn={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Be},nn={regex:_t,countKey:"Colors",token:"${c}",parse:qt.parse},rn={regex:St,countKey:"Numbers",token:"${n}",parse:kt.parse};function sn(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(s)))}function on(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&sn(n,tn),sn(n,nn),sn(n,rn),n}function an(e){return on(e).values}function ln(e){const{values:t,numColors:n,numVars:r,tokenised:i}=on(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(tn.token,e[i]):i<r+n?t.replace(nn.token,qt.transform(e[i])):t.replace(rn.token,xt(e[i]));return t}}const cn=e=>"number"===typeof e?0:e;const un={test:function(e){var t,n;return isNaN(e)&&Tt(e)&&((null===(t=e.match(St))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(_t))||void 0===n?void 0:n.length)||0)>0},parse:an,createTransformer:ln,getAnimatableNone:function(e){const t=an(e);return ln(e)(t.map(cn))}},hn=(e,t)=>n=>"".concat(n>0?t:e);function dn(e,t){return"number"===typeof e?n=>Gt(e,t,n):qt.test(e)?Yt(e,t):e.startsWith("var(")?hn(e,t):mn(e,t)}const fn=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>dn(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},pn=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=dn(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},mn=(e,t)=>{const n=un.createTransformer(t),r=on(e),i=on(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?$t(fn(r.values,i.values),n):(tt(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),hn(e,t))},gn=(e,t)=>n=>Gt(e,t,n);function yn(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?gn:"string"===typeof e?qt.test(e)?Yt:mn:Array.isArray(e)?fn:"object"===typeof e?pn:gn}(e[0]),s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Be:t;n=$t(e,n)}r.push(n)}return r}function vn(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(nt(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yn(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=ht(e[n],e[n+1],t);return o[n](r)};return n?t=>l(It(e[0],e[s-1],t)):l}function wn(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ht(0,t,r);e.push(Gt(n,1,i))}}(t,e.length-1),t}const bn={x:0,y:0};function xn(e,t,n){let{offset:r=gt.All}=n;const{target:i=e,axis:s="y"}=n,o="y"===s?"height":"width",a=i!==e?function(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if("svg"===r.tagName){const e=r.getBoundingClientRect();r=r.parentElement;const t=r.getBoundingClientRect();n.x+=e.left-t.left,n.y+=e.top-t.top}else{if(!(r instanceof SVGGraphicsElement))break;{const{x:e,y:t}=r.getBBox();n.x+=e,n.y+=t;let i=null,s=r.parentNode;for(;!i;)"svg"===s.tagName&&(i=s),s=r.parentNode;r=i}}return n}(i,e):bn,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(i),c={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let u=!t[s].interpolate;const h=r.length;for(let d=0;d<h;d++){const e=bt(r[d],c[o],l[o],a[s]);u||e===t[s].interpolatorOffsets[d]||(u=!0),t[s].offset[d]=e}u&&(t[s].interpolate=vn(t[s].offset,wn(r)),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=t[s].interpolate(t[s].current)}function Sn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{measure:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,r.target,n),update:t=>{!function(e,t,n){mt(e,"x",t,n),mt(e,"y",t,n),t.time=n}(e,n,t),(r.offset||r.target)&&xn(e,n,r)},notify:()=>t(n)}}const _n=new WeakMap,En=new WeakMap,Tn=new WeakMap,In=e=>e===document.documentElement?window:e;function kn(e){let{container:t=document.documentElement,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Tn.get(t);r||(r=new Set,Tn.set(t,r));const i=ft(),s=Sn(t,e,i,n);if(r.add(s),!_n.has(t)){const e=()=>{for(const e of r)e.measure()},n=()=>{for(const e of r)e.update(We.timestamp)},i=()=>{for(const e of r)e.notify()},s=()=>{Ge.read(e,!1,!0),Ge.read(n,!1,!0),Ge.update(i,!1,!0)};_n.set(t,s);const o=In(t);window.addEventListener("resize",s,{passive:!0}),t!==document.documentElement&&En.set(t,function(e,t){return"function"===typeof e?ut(e):at(e,t)}(t,s)),o.addEventListener("scroll",s,{passive:!0})}const o=_n.get(t);return Ge.read(o,!1,!0),()=>{var e;Ke(o);const n=Tn.get(t);if(!n)return;if(n.delete(s),n.size)return;const r=_n.get(t);_n.delete(t),r&&(In(t).removeEventListener("scroll",r),null===(e=En.get(t))||void 0===e||e(),window.removeEventListener("resize",r))}}const Cn="undefined"!==typeof document,Dn=Cn?r.useLayoutEffect:r.useEffect;function An(e,t){tt(Boolean(!t||t.current),"You have defined a ".concat(e," options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its `layoutEffect: false` option."))}const Nn=()=>({scrollX:Ze(0),scrollY:Ze(0),scrollXProgress:Ze(0),scrollYProgress:Ze(0)});function Pn(){return function(){let{container:e,target:t,layoutEffect:n=!0,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=et(Nn);return(n?Dn:r.useEffect)((()=>(An("target",t),An("container",e),kn((e=>{let{x:t,y:n}=e;s.scrollX.set(t.current),s.scrollXProgress.set(t.progress),s.scrollY.set(n.current),s.scrollYProgress.set(n.progress)}),{...i,container:(null===e||void 0===e?void 0:e.current)||void 0,target:(null===t||void 0===t?void 0:t.current)||void 0}))),[e,t,JSON.stringify(i.offset)]),s}()}const Ln=e=>(e=>e&&"object"===typeof e&&e.mix)(e)?e.mix:void 0;const Rn=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Mn(e,t){const n=function(e){const t=et((()=>Ze(e))),{isStatic:n}=(0,r.useContext)(Rn);if(n){const[,n]=(0,r.useState)(e);(0,r.useEffect)((()=>t.on("change",n)),[])}return t}(t()),i=()=>n.set(t());return i(),Dn((()=>{const t=()=>Ge.update(i,!1,!0),n=e.map((e=>e.on("change",t)));return()=>{n.forEach((e=>e())),Ke(i)}})),n}function On(e,t,n,r){if("function"===typeof e)return function(e){$e.current=[],e();const t=Mn($e.current,e);return $e.current=void 0,t}(e);const i="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=2+t<0||arguments.length<=2+t?void 0:arguments[2+t],i=3+t<0||arguments.length<=3+t?void 0:arguments[3+t],s=vn(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],r,{mixer:Ln(r[0]),...i});return e?s(n):s}(t,n,r);return Array.isArray(e)?Fn(e,i):Fn([e],(e=>{let[t]=e;return i(t)}))}function Fn(e,t){const n=et((()=>[]));return Mn(e,(()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)}))}const Vn=(0,r.createContext)({}),jn=(0,r.createContext)(null),Bn=(0,r.createContext)({strict:!1}),Un=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),zn="data-"+Un("framerAppearId"),{schedule:qn,cancel:Gn}=qe(queueMicrotask,!1);function Kn(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Wn(e){return"string"===typeof e||Array.isArray(e)}function Hn(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Qn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yn=["initial",...Qn];function Xn(e){return Hn(e.animate)||Yn.some((t=>Wn(e[t])))}function $n(e){return Boolean(Xn(e)||e.variants)}function Jn(e){const{initial:t,animate:n}=function(e,t){if(Xn(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Wn(t)?t:void 0,animate:Wn(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Vn));return(0,r.useMemo)((()=>({initial:t,animate:n})),[Zn(t),Zn(n)])}function Zn(e){return Array.isArray(e)?e.join(" "):e}const er={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tr={};for(const n in er)tr[n]={isEnabled:e=>er[n].some((t=>!!e[t]))};const nr=(0,r.createContext)({}),rr=(0,r.createContext)({}),ir=Symbol.for("motionComponentSymbol");function sr(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)tr[t]={...tr[t],...e[t]}}(t);const a=(0,r.forwardRef)((function(e,a){let l;const c={...(0,r.useContext)(Rn),...e,layoutId:or(e)},{isStatic:u}=c,h=Jn(e),d=s(e,u);if(!u&&Cn){h.visualElement=function(e,t,n,i){const{visualElement:s}=(0,r.useContext)(Vn),o=(0,r.useContext)(Bn),a=(0,r.useContext)(jn),l=(0,r.useContext)(Rn).reducedMotion,c=(0,r.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,r.useInsertionEffect)((()=>{u&&u.update(n,a)}));const h=(0,r.useRef)(Boolean(n[zn]&&!window.HandoffComplete));return Dn((()=>{u&&(qn.postRender(u.render),h.current&&u.animationState&&u.animationState.animateChanges())})),(0,r.useEffect)((()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))})),u}(o,d,c,n);const e=(0,r.useContext)(rr),i=(0,r.useContext)(Bn).strict;h.visualElement&&(l=h.visualElement.loadFeatures(c,i,t,e))}return r.createElement(Vn.Provider,{value:h},l&&h.visualElement?r.createElement(l,{visualElement:h.visualElement,...c}):null,i(o,e,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Kn(n)&&(n.current=r))}),[t])}(d,h.visualElement,a),d,u,h.visualElement))}));return a[ir]=o,a}function or(e){let{layoutId:t}=e;const n=(0,r.useContext)(nr).id;return n&&void 0!==t?n+"-"+t:t}function ar(e){function t(t){return sr(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const lr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cr(e){return"string"===typeof e&&!e.includes("-")&&!!(lr.indexOf(e)>-1||/[A-Z]/.test(e))}const ur={};const hr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dr=new Set(hr);function fr(e,t){let{layout:n,layoutId:r}=t;return dr.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ur[e]||"opacity"===e)}const pr=e=>Boolean(e&&e.getVelocity),mr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gr=hr.length;const yr=(e,t)=>t&&"number"===typeof e?t.transform(e):e,vr={...kt,transform:Math.round},wr={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,size:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,rotate:Ot,rotateX:Ot,rotateY:Ot,rotateZ:Ot,scale:Dt,scaleX:Dt,scaleY:Dt,scaleZ:Dt,skew:Ot,skewX:Ot,skewY:Ot,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Ct,originX:Ut,originY:Ut,originZ:Vt,zIndex:vr,fillOpacity:Ct,strokeOpacity:Ct,numOctaves:vr};function br(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if(Zt(h)){s[h]=e;continue}const n=wr[h],r=yr(e,n);if(dr.has(h)){if(l=!0,o[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,o="";for(let a=0;a<gr;a++){const t=hr[a];if(void 0!==e[t]){const n=mr[t]||t;o+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):s&&n&&(o="none"),o}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const xr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sr(e,t,n){for(const r in t)pr(t[r])||fr(r,n)||(e[r]=t[r])}function _r(e,t,n){const i={};return Sr(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)((()=>{const e=xr();return br(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),i}function Er(e,t,n){const r={},i=_r(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Tr=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ir(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Tr.has(e)}let kr=e=>!Ir(e);try{(Cr=require("@emotion/is-prop-valid").default)&&(kr=e=>e.startsWith("on")?!Ir(e):Cr(e))}catch(tk){}var Cr;function Dr(e,t,n){return"string"===typeof e?e:Vt.transform(t+n*e)}const Ar={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nr={offset:"strokeDashoffset",array:"strokeDasharray"};function Pr(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(br(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Dr(t,e.x,e.width),i=Dr(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(p.x=s),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Ar:Nr;e[s.offset]=Vt.transform(-r);const o=Vt.transform(t),a=Vt.transform(n);e[s.array]="".concat(o," ").concat(a)}(p,u,h,d,!1)}const Lr=()=>({...xr(),attrs:{}}),Rr=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Mr(e,t,n,i){const s=(0,r.useMemo)((()=>{const n=Lr();return Pr(n,t,{enableHardwareAcceleration:!1},Rr(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Sr(t,e.style,e),s.style={...t,...s.style}}return s}function Or(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,s,o)=>{let{latestValues:a}=s;const l=(cr(t)?Mr:Er)(n,a,o,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(kr(i)||!0===n&&Ir(i)||!t&&!Ir(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:i},{children:h}=n,d=(0,r.useMemo)((()=>pr(h)?h.get():h),[h]);return(0,r.createElement)(t,{...u,children:d})}}function Fr(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Vr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jr(e,t,n,r){Fr(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Vr.has(i)?i:Un(i),t.attrs[i])}function Br(e,t){const{style:n}=e,r={};for(const i in n)(pr(n[i])||t.style&&pr(t.style[i])||fr(i,e))&&(r[i]=n[i]);return r}function Ur(e,t){const n=Br(e,t);for(const r in e)if(pr(e[r])||pr(t[r])){n[-1!==hr.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function zr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const qr=e=>Array.isArray(e),Gr=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Kr=e=>qr(e)?e[e.length-1]||0:e;function Wr(e){const t=pr(e)?e.get():e;return Gr(t)?t.toValue():t}const Hr=e=>(t,n)=>{const i=(0,r.useContext)(Vn),s=(0,r.useContext)(jn),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:Qr(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,i,s);return n?o():et(o)};function Qr(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Wr(s[d]);let{initial:o,animate:a}=e;const l=Xn(e),c=$n(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?a:o;if(h&&"boolean"!==typeof h&&!Hn(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=zr(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const Yr={useVisualState:Hr({scrapeMotionValuesFromProps:Ur,createRenderState:Lr,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Ge.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),Ge.render((()=>{Pr(r,i,{enableHardwareAcceleration:!1},Rr(t.tagName),e.transformTemplate),jr(t,r)}))}})},Xr={useVisualState:Hr({scrapeMotionValuesFromProps:Br,createRenderState:xr})};function $r(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Jr=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ei=e=>t=>Jr(t)&&e(t,Zr(t));function ti(e,t,n,r){return $r(e,t,ei(n),r)}function ni(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const ri=ni("dragHorizontal"),ii=ni("dragVertical");function si(e){let t=!1;if("y"===e)t=ii();else if("x"===e)t=ri();else{const e=ri(),n=ii();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function oi(){const e=si(!0);return!e||(e(),!1)}class ai{constructor(e){this.isMounted=!1,this.node=e}update(){}}function li(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return ti(e.current,n,((n,i)=>{if("touch"===n.pointerType||oi())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Ge.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const ci=(e,t)=>!!t&&(e===t||ci(e,t.parentElement));function ui(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Zr(n))}const hi=new WeakMap,di=new WeakMap,fi=e=>{const t=hi.get(e.target);t&&t(e)},pi=e=>{e.forEach(fi)};function mi(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;di.has(r)||di.set(r,{});const i=di.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(pi,{root:t,...n})),i[s]}(t);return hi.set(e,n),r.observe(e),()=>{hi.delete(e),r.unobserve(e)}}const gi={some:0,all:1};const yi={inView:{Feature:class extends ai{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:gi[r]};return mi(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ai{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=ti(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Ge.update((()=>{i||ci(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=ti(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=$t(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=$r(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=$r(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&ui("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Ge.update((()=>n(e,t)))}))})),ui("down",((e,t)=>{this.startPress(e,t)}))})),t=$r(this.node.current,"blur",(()=>{this.isPressing&&ui("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=$t(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ge.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oi()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ge.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=ti(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=$r(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$t(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends ai{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$t($r(this.node.current,"focus",(()=>this.onFocus())),$r(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends ai{mount(){this.unmount=$t(li(this.node,!0),li(this.node,!1))}unmount(){}}}};function vi(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function wi(e,t,n){const r=e.getProps();return zr(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}const bi=e=>1e3*e,xi=e=>e/1e3,Si=!1,_i=e=>Array.isArray(e)&&"number"===typeof e[0];function Ei(e){return Boolean(!e||"string"===typeof e&&Ii[e]||_i(e)||Array.isArray(e)&&e.every(Ei))}const Ti=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Ii={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ti([0,.65,.55,1]),circOut:Ti([.55,0,1,.45]),backIn:Ti([.31,.01,.66,-.59]),backOut:Ti([.33,1.53,.69,.99])};function ki(e){if(e)return _i(e)?Ti(e):Array.isArray(e)?e.map(ki):Ii[e]}const Ci=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Di=1e-7,Ai=12;function Ni(e,t,n,r){if(e===t&&n===r)return Be;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=Ci(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>Di&&++a<Ai);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Ci(i(e),t,r)}const Pi=Ni(.42,0,1,1),Li=Ni(0,0,.58,1),Ri=Ni(.42,0,.58,1),Mi=e=>Array.isArray(e)&&"number"!==typeof e[0],Oi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fi=e=>t=>1-e(1-t),Vi=e=>1-Math.sin(Math.acos(e)),ji=Fi(Vi),Bi=Oi(Vi),Ui=Ni(.33,1.53,.69,.99),zi=Fi(Ui),qi=Oi(zi),Gi={linear:Be,easeIn:Pi,easeInOut:Ri,easeOut:Li,circIn:Vi,circInOut:Bi,circOut:ji,backIn:zi,backInOut:qi,backOut:Ui,anticipate:e=>(e*=2)<1?.5*zi(e):.5*(2-Math.pow(2,-10*(e-1)))},Ki=e=>{if(Array.isArray(e)){nt(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Ni(t,n,r,i)}return"string"===typeof e?(nt(void 0!==Gi[e],"Invalid easing type '".concat(e,"'")),Gi[e]):e};function Wi(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=Mi(i)?i.map(Ki):Ki(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:wn(n),t),l=vn(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||Ri)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Hi=5;function Qi(e,t,n){const r=Math.max(t-Hi,0);return Fe(n-e(r),t-r)}const Yi=.001,Xi=.01,$i=10,Ji=.05,Zi=1;function es(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;tt(r<=bi($i),"Spring duration must be 10 seconds or less");let a=1-i;a=It(Ji,Zi,a),r=It(Xi,$i,xi(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=ns(e,a),l=Math.exp(-n);return Yi-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=ns(Math.pow(e,2),a);return(-t(e)+Yi>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-Yi,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<ts;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=bi(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const ts=12;function ns(e,t){return e*Math.sqrt(1-t*t)}const rs=["duration","bounce"],is=["stiffness","damping","mass"];function ss(e,t){return t.some((t=>void 0!==e[t]))}function os(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ss(e,is)&&ss(e,rs)){const n=es(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-xi(i.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=xi(Math.sqrt(l/u)),v=Math.abs(g)<5;let w;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=ns(y,m);w=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=w(e);if(f)a.done=e>=h;else{let i=p;0!==e&&(i=m<1?Qi(w,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function as(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),w=e=>y+v(e),b=e=>{const t=v(e),n=w(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,S;const _=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,S=os({keyframes:[f.value,p(f.value)],velocity:Qi(w,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,b(e),_(e)),void 0!==x&&e>x?S.next(e-x):(!t&&b(e),f)}}}const ls=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Ge.update(t,!0),stop:()=>Ke(t),now:()=>We.isProcessing?We.timestamp:Xe.now()}},cs=2e4;function us(e){let t=0;let n=e.next(t);for(;!n.done&&t<cs;)t+=50,n=e.next(t);return t>=cs?1/0:t}const hs={decay:as,inertia:as,tween:Wi,keyframes:Wi,spring:os};function ds(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=ls,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{n=new Promise((e=>{t=e}))};let w;v();const b=hs[a]||Wi;let x;b!==Wi&&"number"!==typeof o[0]&&(x=vn([0,100],o,{clamp:!1}),o=[0,100]);const S=b({...m,keyframes:o});let _;"mirror"===u&&(_=b({...m,keyframes:[...o].reverse(),velocity:-(m.velocity||0)}));let E="idle",T=null,I=null,k=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=us(S));const{calculatedDuration:C}=S;let D=1/0,A=1/0;null!==C&&(D=C+c,A=D*(l+1)-c);let N=0;const P=e=>{if(null===I)return;g>0&&(I=Math.min(I,e)),g<0&&(I=Math.min(e-A/g,I)),N=null!==T?T:Math.round(e-I)*g;const t=N-i*(g>=0?1:-1),n=g>=0?t<0:t>A;N=Math.max(t,0),"finished"===E&&null===T&&(N=A);let r=N,s=S;if(l){const e=Math.min(N,A)/D;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/D)):"mirror"===u&&(s=_)),r=It(0,1,n)*D}const a=n?{done:!1,value:o[0]}:s.next(r);x&&(a.value=x(a.value));let{done:h}=a;n||null===C||(h=g>=0?N>=A:N<=0);const d=null===T&&("finished"===E||"running"===E&&h);return p&&p(a.value),d&&M(),a},L=()=>{w&&w.stop(),w=void 0},R=()=>{E="idle",L(),t(),v(),I=k=null},M=()=>{E="finished",f&&f(),L(),t()},O=()=>{if(y)return;w||(w=s(P));const e=w.now();h&&h(),null!==T?I=e-T:I&&"finished"!==E||(I=e),"finished"===E&&v(),k=I,T=null,E="running",w.start()};r&&O();const F={then:(e,t)=>n.then(e,t),get time(){return xi(N)},set time(e){e=bi(e),N=e,null===T&&w&&0!==g?I=w.now()-e/g:T=e},get duration(){const e=null===S.calculatedDuration?us(S):S.calculatedDuration;return xi(e)},get speed(){return g},set speed(e){e!==g&&w&&(g=e,F.time=xi(N))},get state(){return E},play:O,pause:()=>{E="paused",T=N},stop:()=>{y=!0,"idle"!==E&&(E="idle",d&&d(),R())},cancel:()=>{null!==k&&P(k),R()},complete:()=>{E="finished"},sample:e=>(I=0,P(e))};return F}const fs=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),ps=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function ms(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(fs()&&ps.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,c=!1;const u=()=>{a=new Promise((e=>{o=e}))};u();let{keyframes:h,duration:d=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Ei(t.ease))(t,s)){const e=ds({...s,repeat:0,delay:0});let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,h=n,d=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=ki(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,h,{...s,duration:d,ease:f,times:p}),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,Ge.update(g),o(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,s)),i&&i(),y())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Be),get time(){return xi(m.currentTime||0)},set time(e){m.currentTime=bi(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return xi(d)},play:()=>{l||(m.play(),Ke(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=ds({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const gs={type:"spring",stiffness:500,damping:25,restSpeed:10},ys={type:"keyframes",duration:.8},vs={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ws=(e,t)=>{let{keyframes:n}=t;return n.length>2?ys:dr.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:gs:vs},bs=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!un.test(t)&&"0"!==t||t.startsWith("url("))),xs=new Set(["brightness","contrast","saturate","opacity"]);function Ss(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(St)||[];if(!r)return e;const i=n.replace(r,"");let s=xs.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const _s=/([a-z-]*)\(.*?\)/g,Es={...un,getAnimatableNone:e=>{const t=e.match(_s);return t?t.map(Ss).join(" "):e}},Ts={...wr,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Es,WebkitFilter:Es},Is=e=>Ts[e];function ks(e,t){let n=Is(e);return n!==Es&&(n=un),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Cs=e=>/^0[^.\s]+$/.test(e);function Ds(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Cs(e):void 0}function As(e,t){return e[t]||e.default||e}const Ns=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=As(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=bi(o);const l=function(e,t,n,r){const i=bs(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?o:s[c-1]),Ds(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++)s[l[c]]=ks(t,a);return s}(t,e,n,s),c=l[0],u=l[l.length-1],h=bs(e,c),d=bs(e,u);tt(h===d,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length}(s)||(f={...f,...ws(e,f)}),f.duration&&(f.duration=bi(f.duration)),f.repeatDelay&&(f.repeatDelay=bi(f.repeatDelay)),!h||!d||Si||!1===s.type||Ve)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:e=>(e(),Promise.resolve()),cancel:Be,complete:Be});return n?ds({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(Si?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=ms(t,e,f);if(n)return n}return ds(f)}};function Ps(e){return Boolean(pr(e)&&e.add)}const Ls=e=>/^\-?\d*\.?\d+$/.test(e),Rs=e=>t=>t.test(e),Ms=[kt,Vt,Ft,Ot,Bt,jt,{test:e=>"auto"===e,parse:e=>e}],Os=e=>Ms.find(Rs(e)),Fs=[...Ms,qt,un],Vs=e=>Fs.find(Rs(e));function js(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ze(n))}function Bs(e,t){const n=wi(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){js(e,o,Kr(s[o]))}}function Us(e,t){if(!t)return;return(t[e]||t.default||t).from}function zs(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function qs(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Gs(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const t=e.getValue(h),r=a[h];if(!t||void 0===r||u&&zs(u,h))continue;const i={delay:n,elapsed:0,...As(s||{},h)};if(window.HandoffAppearAnimations){const n=e.getProps()[zn];if(n){const e=window.HandoffAppearAnimations(n,h,t,Ge);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!qs(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(Ns(h,t,r,e.shouldReduceMotion&&dr.has(h)?{type:!1}:i));const d=t.animation;Ps(l)&&(l.add(h),d.then((()=>l.remove(h)))),c.push(d)}return o&&Promise.all(c).then((()=>{o&&Bs(e,o)})),c}function Ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=wi(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Gs(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Ws).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(Ks(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function Ws(e,t){return e.sortNodePosition(t)}const Hs=[...Qn].reverse(),Qs=Qn.length;function Ys(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Ks(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=Ks(e,t,r);else{const i="function"===typeof t?wi(e,t,r.custom):t;n=Promise.all(Gs(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function Xs(e){let t=Ys(e);const n={animate:Js(!0),whileInView:Js(),whileHover:Js(),whileTap:Js(),whileDrag:Js(),whileFocus:Js(),exit:Js()};let r=!0;const i=(t,n)=>{const r=wi(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let t=0;t<Qs;t++){const f=Hs[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=Wn(m),y=f===o?p.isActive:null;!1===y&&(d=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...h},!p.isActive&&null===y||!m&&!p.prevProp||Hn(m)||"boolean"===typeof m)continue;let w=$s(p.prevProp,m)||f===o&&p.isActive&&!v&&g||t>d&&g,b=!1;const x=Array.isArray(m)?m:[m];let S=x.reduce(i,{});!1===y&&(S={});const{prevResolvedValues:_={}}=p,E={..._,...S},T=e=>{w=!0,u.has(e)&&(b=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in E){const t=S[e],n=_[e];if(h.hasOwnProperty(e))continue;let r=!1;r=qr(t)&&qr(n)?!vi(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(h={...h,...S}),r&&e.blockInitialAnimation&&(w=!1),!w||v&&!b||c.push(...x.map((e=>({animation:e,options:{type:f,...s}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function $s(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!vi(t,e)}function Js(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Zs=0;const eo={animation:{Feature:class extends ai{constructor(e){super(e),e.animationState||(e.animationState=Xs(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Hn(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends ai{constructor(){super(...arguments),this.id=Zs++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},to=(e,t)=>Math.abs(e-t);class no{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=so(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=to(e.x,t.x),r=to(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=We;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ro(t,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=so("pointercancel"===e.type?this.lastMoveEventInfo:ro(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Jr(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=ro(Zr(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=We;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,so(s,this.history)),this.removeListeners=$t(ti(this.contextWindow,"pointermove",this.handlePointerMove),ti(this.contextWindow,"pointerup",this.handlePointerUp),ti(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ke(this.updatePoint)}}function ro(e,t){return t?{point:t(e.point)}:e}function io(e,t){return{x:e.x-t.x,y:e.y-t.y}}function so(e,t){let{point:n}=e;return{point:n,delta:io(n,ao(t)),offset:io(n,oo(t)),velocity:lo(t,.1)}}function oo(e){return e[0]}function ao(e){return e[e.length-1]}function lo(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ao(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>bi(t)));)n--;if(!r)return{x:0,y:0};const s=xi(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function co(e){return e.max-e.min}function uo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function ho(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Gt(t.min,t.max,e.origin),e.scale=co(n)/co(t),(uo(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Gt(n.min,n.max,e.origin)-e.originPoint,(uo(e.translate)||isNaN(e.translate))&&(e.translate=0)}function fo(e,t,n,r){ho(e.x,t.x,n.x,r?r.originX:void 0),ho(e.y,t.y,n.y,r?r.originY:void 0)}function po(e,t,n){e.min=n.min+t.min,e.max=e.min+co(t)}function mo(e,t,n){e.min=t.min-n.min,e.max=e.min+co(t)}function go(e,t,n){mo(e.x,t.x,n.x),mo(e.y,t.y,n.y)}function yo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function vo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const wo=.35;function bo(e,t,n){return{min:xo(e,t),max:xo(e,n)}}function xo(e,t){return"number"===typeof e?e:e[t]||0}const So=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),_o=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Eo(e){return[e("x"),e("y")]}function To(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Io(e){return void 0===e||1===e}function ko(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Io(t)||!Io(n)||!Io(r)}function Co(e){return ko(e)||Do(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Do(e){return Ao(e.x)||Ao(e.y)}function Ao(e){return e&&"0%"!==e}function No(e,t,n){return n+t*(e-n)}function Po(e,t,n,r,i){return void 0!==i&&(e=No(e,i,r)),No(e,n,r)+t}function Lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Po(e.min,t,n,r,i),e.max=Po(e.max,t,n,r,i)}function Ro(e,t){let{x:n,y:r}=t;Lo(e.x,n.translate,n.scale,n.originPoint),Lo(e.y,r.translate,r.scale,r.originPoint)}function Mo(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function Fo(e,t,n){let[r,i,s]=n;const o=void 0!==t[s]?t[s]:.5,a=Gt(e.min,e.max,o);Lo(e,t[r],t[i],a,t.scale)}const Vo=["x","scaleX","originX"],jo=["y","scaleY","originY"];function Bo(e,t){Fo(e.x,t,Vo),Fo(e.y,t,jo)}function Uo(e,t){return To(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const zo=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},qo=new WeakMap;class Go{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_o(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new no(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Zr(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=si(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Eo((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ft.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=co(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Ge.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Eo((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:zo(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Ge.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ko(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Gt(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Gt(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Kn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:yo(e.x,r,s),y:yo(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo;return!1===e?e=0:!0===e&&(e=wo),{x:bo(e,"left","right"),y:bo(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Eo((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Kn(e))return!1;const n=e.current;nt(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Uo(e,n),{scroll:i}=t;return i&&(Oo(r.x,i.offset.x),Oo(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:vo(e.x,t.x),y:vo(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=To(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Eo((o=>{if(!Ko(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Ns(e,n,0,t))}stopAnimation(){Eo((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Eo((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Eo((t=>{const{drag:n}=this.getProps();if(!Ko(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Gt(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Kn(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Eo((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=co(e),i=co(t);return i>r?n=ht(t.min,t.max-r,e.min):r>i&&(n=ht(e.min,e.max-i,t.min)),It(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Eo((t=>{if(!Ko(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Gt(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;qo.set(this.visualElement,this);const e=ti(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Kn(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=$r(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Eo((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=wo,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function Ko(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Wo=e=>(t,n)=>{e&&Ge.update((()=>e(t,n)))};const Ho={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qo(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yo={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Vt.test(e))return e;e=parseFloat(e)}const n=Qo(e,t.target.x),r=Qo(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Xo={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=un.parse(e);if(s.length>5)return i;const o=un.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=Gt(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}};class $o extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Zo,Object.assign(ur,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ho.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ge.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qn.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Jo(e){const[t,n]=function(){const e=(0,r.useContext)(jn);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=(0,r.useId)();return(0,r.useEffect)((()=>i(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(nr);return r.createElement($o,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(rr),isPresent:t,safeToRemove:n})}const Zo={borderRadius:{...Yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yo,borderTopRightRadius:Yo,borderBottomLeftRadius:Yo,borderBottomRightRadius:Yo,boxShadow:Xo},ea=["TopLeft","TopRight","BottomLeft","BottomRight"],ta=ea.length,na=e=>"string"===typeof e?parseFloat(e):e,ra=e=>"number"===typeof e||Vt.test(e);function ia(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const sa=aa(0,.5,ji),oa=aa(.5,.95,Be);function aa(e,t,n){return r=>r<e?0:r>t?1:n(ht(e,t,r))}function la(e,t){e.min=t.min,e.max=t.max}function ca(e,t){la(e.x,t.x),la(e.y,t.y)}function ua(e,t,n,r,i){return e=No(e-=t,1/n,r),void 0!==i&&(e=No(e,1/i,r)),e}function ha(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Ft.test(t)&&(t=parseFloat(t),t=Gt(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Gt(s.min,s.max,r);e===s&&(a-=t),e.min=ua(e.min,t,n,a,i),e.max=ua(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const da=["x","scaleX","originX"],fa=["y","scaleY","originY"];function pa(e,t,n,r){ha(e.x,t,da,n?n.x:void 0,r?r.x:void 0),ha(e.y,t,fa,n?n.y:void 0,r?r.y:void 0)}function ma(e){return 0===e.translate&&1===e.scale}function ga(e){return ma(e.x)&&ma(e.y)}function ya(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function va(e){return co(e.x)/co(e.y)}class wa{constructor(){this.members=[]}add(e){Re(this.members,e),e.scheduleRender()}remove(e){if(Me(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ba(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+="scale(".concat(o,", ").concat(a,")")),r||"none"}const xa=(e,t)=>e.depth-t.depth;class Sa{constructor(){this.children=[],this.isDirty=!1}add(e){Re(this.children,e),this.isDirty=!0}remove(e){Me(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xa),this.isDirty=!1,this.children.forEach(e)}}const _a=["","X","Y","Z"],Ea={visibility:"hidden"};let Ta=0;const Ia={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ka(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ta++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,Ia.totalNodes=Ia.resolvedTargetDeltas=Ia.recalculatedProjection=0,this.nodes.forEach(Aa),this.nodes.forEach(Fa),this.nodes.forEach(Va),this.nodes.forEach(Na),e=Ia,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sa)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Oe),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Xe.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(Ke(r),e(o-t))};return Ge.read(r,!0),()=>Ke(r)}(r,250),Ho.hasAnimatedSinceResize&&(Ho.hasAnimatedSinceResize=!1,this.nodes.forEach(Oa))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||Ga,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!ya(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...As(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Oa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ke(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ja),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(La);this.isUpdating||this.nodes.forEach(Ra),this.isUpdating=!1,this.nodes.forEach(Ma),this.nodes.forEach(Ca),this.nodes.forEach(Da),this.clearAllSnapshots();const e=Xe.now();We.delta=It(0,1e3/60,e-We.timestamp),We.timestamp=e,We.isProcessing=!0,He.update.process(We),He.preRender.process(We),He.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qn.read((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Pa),this.sharedNodes.forEach(Ba)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_o(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!ga(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Co(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Ha((r=n).x),Ha(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return _o();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Oo(t.x,n.offset.x),Oo(t.y,n.offset.y)),t}removeElementScroll(e){const t=_o();ca(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){ca(t,e);const{scroll:n}=this.root;n&&(Oo(t.x,-n.offset.x),Oo(t.y,-n.offset.y))}Oo(t.x,i.offset.x),Oo(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=_o();ca(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Bo(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Co(e.latestValues)&&Bo(n,e.latestValues)}return Co(this.latestValues)&&Bo(n,this.latestValues),n}removeTransform(e){const t=_o();ca(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Co(e.latestValues))continue;ko(e.latestValues)&&e.updateSnapshot();const r=_o();ca(r,e.measurePageBox()),pa(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Co(this.latestValues)&&pa(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=We.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_o(),this.relativeTargetOrigin=_o(),go(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target=_o(),this.targetWithTransforms=_o()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,po(o.x,a.x,l.x),po(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ca(this.target,this.layout.layoutBox),Ro(this.target,this.targetDelta)):ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_o(),this.relativeTargetOrigin=_o(),go(this.relativeTargetOrigin,this.target,e.target),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ia.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ko(this.parent.latestValues)&&!Do(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===We.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;ca(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bo(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ro(e,o)),r&&Co(s.latestValues)&&Bo(e,s.latestValues))}t.x=Mo(t.x),t.y=Mo(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms=_o());const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=So(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=So(),this.projectionDeltaWithTransform=So());const c=this.projectionTransform;fo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=ba(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ia.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s=So();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o=_o(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(qa));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Ua(s.x,e.x,n),Ua(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(go(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){za(e.x,t.x,n.x,r),za(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=_o()),ca(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Gt(0,void 0!==n.opacity?n.opacity:1,sa(r)),e.opacityExit=Gt(void 0!==t.opacity?t.opacity:1,0,oa(r))):s&&(e.opacity=Gt(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<ta;o++){const i="border".concat(ea[o],"Radius");let s=ia(t,i),a=ia(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||ra(s)===ra(a)?(e[i]=Math.max(Gt(na(s),na(a),r),0),(Ft.test(a)||Ft.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Gt(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ke(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update((()=>{Ho.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=pr(e)?e:Ze(e);return r.start(Ns("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Qa(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||_o();const t=co(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=co(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ca(t,n),Bo(t,i),fo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new wa);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<_a.length;i++){const t="rotate"+_a[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ea;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Wr(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Wr(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=ba(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in ur){if(void 0===o[c])continue;const{correct:e,applyTo:t}=ur[c],n="none"===r.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Wr(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(La),this.root.sharedNodes.clear()}}}function Ca(e){e.updateLayout()}function Da(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Eo((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=co(r);r.min=t[e].min,r.max=r.min+i})):Qa(i,n.layoutBox,t)&&Eo((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=co(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o=So();fo(o,t,n.layoutBox);const a=So();s?fo(a,e.applyTransform(r,!0),n.measuredBox):fo(a,t,n.layoutBox);const l=!ga(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o=_o();go(o,n.layoutBox,i.layoutBox);const a=_o();go(a,t,s.layoutBox),ya(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Aa(e){Ia.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Na(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pa(e){e.clearSnapshot()}function La(e){e.clearMeasurements()}function Ra(e){e.isLayoutDirty=!1}function Ma(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Oa(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Fa(e){e.resolveTargetDelta()}function Va(e){e.calcProjection()}function ja(e){e.resetRotation()}function Ba(e){e.removeLeadSnapshot()}function Ua(e,t,n){e.translate=Gt(t.translate,0,n),e.scale=Gt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function za(e,t,n,r){e.min=Gt(t.min,n.min,r),e.max=Gt(t.max,n.max,r)}function qa(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ga={duration:.45,ease:[.4,0,.1,1]},Ka=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Wa=Ka("applewebkit/")&&!Ka("chrome/")?Math.round:Be;function Ha(e){e.min=Wa(e.min),e.max=Wa(e.max)}function Qa(e,t,n){return"position"===e||"preserve-aspect"===e&&!uo(va(t),va(n),.2)}const Ya=ka({attachResizeListener:(e,t)=>$r(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xa={current:void 0},$a=ka({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xa.current){const e=new Ya({});e.mount(window),e.setOptions({layoutScroll:!0}),Xa.current=e}return Xa.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ja={pan:{Feature:class extends ai{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(e){this.session=new no(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Wo(e),onStart:Wo(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ge.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=ti(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ai{constructor(e){super(e),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new Go(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:$a,MeasureLayout:Jo}},Za=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const el=4;function tl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nt(n<=el,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Za.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Ls(e)?parseFloat(e):e}return en(i)?tl(i,t,n+1):i}const nl=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rl=e=>nl.has(e),il=e=>e===kt||e===Vt,sl=(e,t)=>parseFloat(e.split(", ")[t]),ol=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return sl(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?sl(t[1],e):0}},al=new Set(["x","y","z"]),ll=hr.filter((e=>!al.has(e)));const cl={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ol(4,13),y:ol(5,14)};cl.translateX=cl.x,cl.translateY=cl.y;const ul=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(rl);let s=[],o=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=Os(c);const h=t[i];let d;if(qr(h)){const e=h.length,t=null===h[0]?1:0;c=h[t],u=Os(c);for(let n=t;n<e&&null!==h[n];n++)d?nt(Os(h[n])===d,"All keyframes must be of the same type"):(d=Os(h[n]),nt(d===u||il(u)&&il(d),"Keyframes must be of the same dimension as the current value"))}else d=Os(h);if(u!==d)if(il(u)&&il(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===Vt&&(t[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):t[i]=u.transform(h):(o||(s=function(e){const t=[];return ll.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=cl[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=cl[n](l,s)})),e})(t,e,a);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),Cn&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function hl(e,t,n,r){return(e=>Object.keys(e).some(rl))(t)?ul(e,t,n,r):{target:t,transitionEnd:r}}const dl=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!en(t))return;const n=tl(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!en(e))continue;const t=tl(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return hl(e,t=i.target,n,r=i.transitionEnd)},fl={current:null},pl={current:!1};const ml=new WeakMap,gl=Object.keys(tr),yl=gl.length,vl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wl=Yn.length;class bl{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ge.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Xn(n),this.isVariantNode=$n(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const e=u[h];void 0!==a[h]&&pr(e)&&(e.set(a[h],!1),Ps(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,ml.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),pl.current||function(){if(pl.current=!0,Cn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fl.current=e.matches;e.addListener(t),t()}else fl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||fl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ml.delete(this.current),this.projection&&this.projection.unmount(),Ke(this.notifyUpdate),Ke(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=dr.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ge.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:o,...a}=e;for(let l=0;l<yl;l++){const e=gl[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=tr[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(s=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Kn(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_o()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<vl.length;n++){const t=vl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(pr(s))e.addValue(i,s),Ps(r)&&r.add(i);else if(pr(o))e.addValue(i,Ze(s,{owner:e})),Ps(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Ze(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<wl;t++){const n=Yn[t],r=this.props[n];(Wn(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ze(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=zr(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||pr(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Oe),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class xl extends bl{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t){let{transition:n,transitionEnd:r,...i}=e;const s=function(e,t,n){const r={};for(const i in e){const e=Us(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(i,n||{},this);if(t){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=t[o];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==c&&null!==c&&("string"===typeof c&&(Ls(c)||Cs(c))?c=parseFloat(c):!Vs(c)&&un.test(l)&&(c=ks(o,l)),e.addValue(o,Ze(c,{owner:e})),void 0===n[o]&&(n[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,i,s);const e=dl(this,i,s,r);r=e.transitionEnd,i=e.target}return{transition:n,transitionEnd:r,...i}}}class Sl extends xl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(dr.has(t)){const e=Is(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Zt(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Uo(e,n)}build(e,t,n,r){br(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Br(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){Fr(e,t,n,r)}}class _l extends xl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(dr.has(t)){const e=Is(t);return e&&e.default||0}return t=Vr.has(t)?t:Un(t),e.getAttribute(t)}measureInstanceViewportBox(){return _o()}scrapeMotionValuesFromProps(e,t){return Ur(e,t)}build(e,t,n,r){Pr(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){jr(e,t,0,r)}mount(e){this.isSVGTag=Rr(e.tagName),super.mount(e)}}const El=(e,t)=>cr(e)?new _l(t,{enableHardwareAcceleration:!1}):new Sl(t,{enableHardwareAcceleration:!0}),Tl={...eo,...yi,...Ja,...{layout:{ProjectionNode:$a,MeasureLayout:Jo}}},Il=ar(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...cr(e)?Yr:Xr,preloadedFeatures:n,useRender:Or(i),createVisualElement:r,Component:e}}(e,t,Tl,El)));function kl(){const{scrollYProgress:e}=Pn(),t=On(e,[0,1],[1,1.5]),n=On(e,[0,1],[1,1.1]);On(e,[0,1],[0,360]);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)(Il.div,{className:"main-container",style:{scale:t},children:[(0,Pe.jsx)("img",{src:"https://static.wixstatic.com/media/11062b_78134d5be79b47c69ab7a9d034104c44~mv2_d_3949_2633_s_4_2.jpg/v1/fill/w_1749,h_694,fp_0.50_0.50,q_85,usm_0.66_1.00_0.01,enc_auto/11062b_78134d5be79b47c69ab7a9d034104c44~mv2_d_3949_2633_s_4_2.jpg",alt:"Your Image Description"}),(0,Pe.jsx)("div",{className:"overlay-text",children:"Learn with Dhara Global Solutions"}),(0,Pe.jsx)(Ce,{to:"/",className:"border-container",children:(0,Pe.jsx)("p",{children:"Get in touch"})})]}),(0,Pe.jsxs)("div",{className:"parent-container",children:[(0,Pe.jsxs)("div",{className:"a",children:[" ",(0,Pe.jsxs)("div",{children:[" ",(0,Pe.jsx)("span",{children:" About Us"})," ",(0,Pe.jsx)("p",{children:"Dhara Global Solutions is a forward-thinking and dynamic organization dedicated to empowering engineering students with the skills and knowledge needed to excel in the world of technology and innovation. Our primary focus is on providing professional implant training and internships, aiming to bridge the gap between classroom learning and real-world application. Key Features of Dhara Global Solutions: 1. We offer a diverse range of training programs that cover the latest technologies and industry trends. Our training modules are designed to equip engineering students with practical, hands-on experience that is relevant to their field of study. 2. We believe in the power of experiential learning. Our training involves practical projects, case studies, and workshops, allowing students to apply what they've learned and gain confidence in their skills."})]})]}),(0,Pe.jsx)("div",{className:"b",children:(0,Pe.jsx)("img",{src:"https://static.wixstatic.com/media/847996674cb0494ca49186e52092dbc3.jpg/v1/fill/w_865,h_619,fp_0.50_0.50,q_85,usm_0.66_1.00_0.01,enc_auto/847996674cb0494ca49186e52092dbc3.jpg"})})]}),(0,Pe.jsxs)("div",{className:"home-outer-container",children:[(0,Pe.jsxs)("div",{className:"home-centered-text",children:["Services",(0,Pe.jsx)("p",{children:"We Provide a wide range of Services like College Intership,Industrial trainings,Resarch Guidance,Project Guidance and many more."})]}),(0,Pe.jsxs)("div",{className:"home-inner-container",children:[(0,Pe.jsxs)("div",{className:"home-inner-item",children:[(0,Pe.jsx)("img",{src:"https://static.wixstatic.com/media/e3bd0b_9c62c464a38f43f0990022f58910e298~mv2.jpeg/v1/crop/x_50,y_0,w_400,h_400/fill/w_113,h_113,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/Internship-Program.jpeg",alt:"Image 1",className:"home-circle-image"}),(0,Pe.jsx)("p",{className:"home-image-name",children:"College Intership"}),(0,Pe.jsx)("p",{className:"home-image-description",children:"Professional learning experience that offers meaningfull,practice work related to a student's field of study or career interest."})]}),(0,Pe.jsxs)("div",{className:"home-inner-item",children:[(0,Pe.jsx)("img",{src:"https://static.wixstatic.com/media/e3bd0b_71ac1a9e8d6d4ed98008e88d2c79ba72~mv2.jpg/v1/crop/x_25,y_0,w_301,h_301/fill/w_113,h_113,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/b-tech-industrial-training-jaipur-1.jpg",alt:"Image 2",className:"home-circle-image"}),(0,Pe.jsx)("p",{className:"home-image-name",children:"Industrial Training"}),(0,Pe.jsx)("p",{className:"home-image-description",children:"The essential system to open understudies to genuine work life circumstancs and to outfit them with the vital abilities."})]}),(0,Pe.jsxs)("div",{className:"home-inner-item",children:[(0,Pe.jsx)("img",{src:"https://static.wixstatic.com/media/e3bd0b_68efffefda1d429696aac99a888ed6f7~mv2.png/v1/fill/w_113,h_113,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/1.png",alt:"Image 3",className:"home-circle-image"}),(0,Pe.jsx)("p",{className:"home-image-name",children:"Research Guidance"}),(0,Pe.jsx)("p",{className:"home-image-description",children:"We offer PhD assistance and research guidance services for PhD experts will help you in completing your research at every PhD stage."})]})]})]}),(0,Pe.jsxs)("div",{className:"home-outer-container1",children:[(0,Pe.jsx)("div",{className:"home-centered-text",children:"Testimonials"}),(0,Pe.jsxs)("div",{className:"home-inner-container",children:[(0,Pe.jsxs)(Il.div,{className:"home-inner-item",style:{scale:n},children:[(0,Pe.jsx)("p",{className:"home-image-description",children:'"Good service, customized projects available for any domains, Trainings is well organized, Intership opportunities also available."'}),(0,Pe.jsx)("span",{children:"Prasanth Y"})]}),(0,Pe.jsxs)(Il.div,{className:"home-inner-item",style:{scale:n},children:[(0,Pe.jsx)("p",{className:"home-image-description",children:'"The classes were said and we learned about arduino, this online class will be useful for us in the future."'}),(0,Pe.jsx)("br",{}),(0,Pe.jsx)("span",{children:"Harmeed S"})]}),(0,Pe.jsxs)(Il.div,{className:"home-inner-item",style:{scale:n},children:[(0,Pe.jsx)("p",{className:"home-image-description",children:'"This whole experience was good .I have learnt plenty of stuff during the intership program."'}),(0,Pe.jsx)("br",{}),(0,Pe.jsx)("span",{children:"Kiran K"})]})]})]})]})}function Cl(){return(0,Pe.jsx)("div",{children:"About"})}function Dl(){return(0,Pe.jsx)("div",{children:"Contact"})}function Al(){return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"inter-outer-container1",children:(0,Pe.jsx)("div",{className:"inter-centered-text",children:"Features"})}),(0,Pe.jsxs)("div",{className:"inter-outer-container",children:[(0,Pe.jsxs)("div",{className:"inter-inner-container",children:[(0,Pe.jsxs)("div",{className:"inter-inner-item",children:[(0,Pe.jsx)("img",{src:"https://i.imgur.com/8NJnnfD.gif",alt:"Image 1",className:"inter-circle-image"}),(0,Pe.jsx)("p",{className:"inter-image-name",children:"Eco-Friendly Design"})]}),(0,Pe.jsxs)("div",{className:"inter-inner-item",children:[(0,Pe.jsx)("img",{src:"https://i.imgur.com/ry6W7va.gif      ",alt:"Image 2",className:"inter-circle-image"}),(0,Pe.jsx)("p",{className:"inter-image-name",children:"24/7 Support"})]}),(0,Pe.jsxs)("div",{className:"inter-inner-item",children:[(0,Pe.jsx)("img",{src:"https://i.imgur.com/yGzmlAD.gif",alt:"Image 3",className:"inter-circle-image"}),(0,Pe.jsx)("p",{className:"inter-image-name",children:"Multilingual Functionality"})]})]}),(0,Pe.jsxs)("div",{className:"inter-inner-container",children:[(0,Pe.jsxs)("div",{className:"inter-inner-item",children:[(0,Pe.jsx)("img",{src:"https://i.imgur.com/yMGLxQn.gif      ",alt:"Image 1",className:"inter-circle-image"}),(0,Pe.jsx)("p",{className:"inter-image-name",children:"Advanced Tech"})]}),(0,Pe.jsxs)("div",{className:"inter-inner-item",children:[(0,Pe.jsx)("img",{src:"https://i.imgur.com/refCmI6.gif",alt:"Image 2",className:"inter-circle-image"}),(0,Pe.jsx)("p",{className:"inter-image-name",children:"First-Rate Material"})]}),(0,Pe.jsxs)("div",{className:"inter-inner-item",children:[(0,Pe.jsx)("img",{src:"\thttps://i.imgur.com/dW5QJnV.gif ",alt:"Image 3",className:"inter-circle-image"}),(0,Pe.jsx)("p",{className:"inter-image-name",children:"Licensed Professionals"})]})]})]}),(0,Pe.jsx)("div",{className:"inter-outer-container2",children:(0,Pe.jsx)("div",{class:"b-wrapper",children:(0,Pe.jsxs)("div",{class:"b-link_wrapper",children:[(0,Pe.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSfdSasO5315ghT88CiXykC9wF3au0CgCI4fAitet4peTRFM0w/viewform",children:"INTERNSHIP REGISTRATION"}),(0,Pe.jsx)("div",{class:"b-icon",children:(0,Pe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 268.832 268.832",children:(0,Pe.jsx)("path",{d:"M265.17 125.577l-80-80c-4.88-4.88-12.796-4.88-17.677 0-4.882 4.882-4.882 12.796 0 17.678l58.66 58.66H12.5c-6.903 0-12.5 5.598-12.5 12.5 0 6.903 5.597 12.5 12.5 12.5h213.654l-58.66 58.662c-4.88 4.882-4.88 12.796 0 17.678 2.44 2.44 5.64 3.66 8.84 3.66s6.398-1.22 8.84-3.66l79.997-80c4.883-4.882 4.883-12.796 0-17.678z"})})})]})})})]})}function Nl(){return(0,Pe.jsx)("div",{children:"Services"})}function Pl(){return(0,Pe.jsx)("div",{children:"Testimonials"})}const Ll=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Rl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ll(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ml;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ml extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ol=function(e){return function(e){const t=Ll(e);return Rl.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fl=function(e){try{return Rl.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Vl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Vl(e[n],t[n]));return e}const jl=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Bl=()=>{try{return jl()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Fl(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ul=()=>{var e;return null===(e=Bl())||void 0===e?void 0:e.config};class zl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ql(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gl(){return!function(){var e;const t=null===(e=Bl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kl(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Wl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ql,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Wl(n,s,t)}}const Ql=/\{\$([^}]+)}/g;function Yl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($l(n)&&$l(s)){if(!Xl(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $l(e){return null!==e&&"object"===typeof e}function Jl(e,t){const n=new Zl(e,t);return n.subscribe.bind(n)}class Zl{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ec),void 0===r.error&&(r.error=ec),void 0===r.complete&&(r.complete=ec);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ec(){}function tc(e){return e&&e._delegate?e._delegate:e}class nc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rc="[DEFAULT]";class ic{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new zl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rc})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(tk){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rc?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(tk){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rc;return this.component?this.component.multipleInstances?e:rc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ic(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const oc=[];var ac;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ac||(ac={}));const lc={debug:ac.DEBUG,verbose:ac.VERBOSE,info:ac.INFO,warn:ac.WARN,error:ac.ERROR,silent:ac.SILENT},cc=ac.INFO,uc={[ac.DEBUG]:"log",[ac.VERBOSE]:"log",[ac.INFO]:"info",[ac.WARN]:"warn",[ac.ERROR]:"error"},hc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=uc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class dc{constructor(e){this.name=e,this._logLevel=cc,this._logHandler=hc,this._userLogHandler=null,oc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ac))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?lc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ac.DEBUG,...t),this._logHandler(this,ac.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ac.VERBOSE,...t),this._logHandler(this,ac.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ac.INFO,...t),this._logHandler(this,ac.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ac.WARN,...t),this._logHandler(this,ac.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ac.ERROR,...t),this._logHandler(this,ac.ERROR,...t)}}const fc=(e,t)=>t.some((t=>e instanceof t));let pc,mc;const gc=new WeakMap,yc=new WeakMap,vc=new WeakMap,wc=new WeakMap,bc=new WeakMap;let xc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ec(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Sc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mc||(mc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tc(this),n),Ec(gc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ec(e.apply(Tc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Tc(this),t,...r);return vc.set(s,t.sort?t.sort():[t]),Ec(s)}}function _c(e){return"function"===typeof e?Sc(e):(e instanceof IDBTransaction&&function(e){if(yc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));yc.set(e,t)}(e),fc(e,pc||(pc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xc):e)}function Ec(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ec(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&gc.set(t,e)})).catch((()=>{})),bc.set(t,e),t}(e);if(wc.has(e))return wc.get(e);const t=_c(e);return t!==e&&(wc.set(e,t),bc.set(t,e)),t}const Tc=e=>bc.get(e);const Ic=["get","getKey","getAll","getAllKeys","count"],kc=["put","add","delete","clear"],Cc=new Map;function Dc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Cc.get(t))return Cc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=kc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ic.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Cc.set(t,s),s}xc=(e=>({...e,get:(t,n,r)=>Dc(t,n)||e.get(t,n,r),has:(t,n)=>!!Dc(t,n)||e.has(t,n)}))(xc);class Ac{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Nc="@firebase/app",Pc="0.9.26",Lc=new dc("@firebase/app"),Rc="[DEFAULT]",Mc={[Nc]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oc=new Map,Fc=new Map;function Vc(e,t){try{e.container.addComponent(t)}catch(n){Lc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function jc(e,t){e.container.addOrOverwriteComponent(t)}function Bc(e){const t=e.name;if(Fc.has(t))return Lc.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fc.set(t,e);for(const n of Oc.values())Vc(n,e);return!0}function Uc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rc;Uc(e,t).clearInstance(n)}function qc(){Fc.clear()}const Gc=new Hl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kc{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gc.create("app-deleted",{appName:this._name})}}const Wc="10.7.2";function Hc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Rc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gc.create("bad-app-name",{appName:String(i)});if(n||(n=Ul()),!n)throw Gc.create("no-options");const s=Oc.get(i);if(s){if(Xl(n,s.options)&&Xl(r,s.config))return s;throw Gc.create("duplicate-app",{appName:i})}const o=new sc(i);for(const l of Fc.values())o.addComponent(l);const a=new Kc(n,r,o);return Oc.set(i,a),a}function Qc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc;const t=Oc.get(e);if(!t&&e===Rc&&Ul())return Hc();if(!t)throw Gc.create("no-app",{appName:e});return t}function Yc(){return Array.from(Oc.values())}async function Xc(e){const t=e.name;Oc.has(t)&&(Oc.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function $c(e,t,n){var r;let i=null!==(r=Mc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Lc.warn(e.join(" "))}Bc(new nc("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Jc(e,t){if(null!==e&&"function"!==typeof e)throw Gc.create("invalid-log-argument");!function(e,t){for(const n of oc){let r=null;t&&t.level&&(r=lc[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ac[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Zc(e){var t;t=e,oc.forEach((e=>{e.setLogLevel(t)}))}const eu="firebase-heartbeat-database",tu=1,nu="firebase-heartbeat-store";let ru=null;function iu(){return ru||(ru=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ec(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ec(o.result),e.oldVersion,e.newVersion,Ec(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(eu,tu,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nu)}catch(n){console.warn(n)}}}).catch((e=>{throw Gc.create("idb-open",{originalErrorMessage:e.message})}))),ru}async function su(e,t){try{const n=(await iu()).transaction(nu,"readwrite"),r=n.objectStore(nu);await r.put(t,ou(e)),await n.done}catch(n){if(n instanceof Wl)Lc.warn(n.message);else{const e=Gc.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Lc.warn(e.message)}}}function ou(e){return"".concat(e.name,"!").concat(e.options.appId)}class au{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cu(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lu();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=lu(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),uu(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ol(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function lu(){return(new Date).toISOString().substring(0,10)}class cu{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kl()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await iu();return await t.transaction(nu).objectStore(nu).get(ou(e))}catch(t){if(t instanceof Wl)Lc.warn(t.message);else{const e=Gc.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Lc.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return su(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return su(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function uu(e){return Ol(JSON.stringify({version:2,heartbeats:e})).length}var hu;hu="",Bc(new nc("platform-logger",(e=>new Ac(e)),"PRIVATE")),Bc(new nc("heartbeat",(e=>new au(e)),"PRIVATE")),$c(Nc,Pc,hu),$c(Nc,Pc,"esm2017"),$c("fire-js","");class du{constructor(e,t){this._delegate=e,this.firebase=t,Vc(e,new nc("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Xc(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Vc(this._delegate,e)}_addOrOverwriteComponent(e){jc(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fu=new Hl("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const pu=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Hc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Yl(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:$c,setLogLevel:Zc,onLog:Jc,apps:null,SDK_VERSION:Wc,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Bc(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw fu.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Vl(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Yl(n,e=e||Rc))throw fu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(du);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Vl(n,e)},createSubscribe:Jl,ErrorFactory:Hl,deepExtend:Vl}),n}(),mu=new dc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){mu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&mu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const gu=pu;!function(e){$c("@firebase/app-compat","0.2.26",e)}();gu.registerVersion("firebase","10.7.2","app-compat");var yu,vu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},wu={},bu=bu||{},xu=vu||self;function Su(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Eu="closure_uid_"+(1e9*Math.random()>>>0),Tu=0;function Iu(e,t,n){return e.call.apply(e.bind,arguments)}function ku(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cu(e,t,n){return(Cu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Iu:ku).apply(null,arguments)}function Du(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Au(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Nu(){this.s=this.s,this.o=this.o}Nu.prototype.s=!1,Nu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Eu)&&e[Eu]||(e[Eu]=++Tu))},Nu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Lu(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ru(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Su(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Mu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Mu.prototype.h=function(){this.defaultPrevented=!0};var Ou=function(){if(!xu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};xu.addEventListener("test",e,t),xu.removeEventListener("test",e,t)}catch(n){}return e}();function Fu(e){return/^[\s\xa0]*$/.test(e)}function Vu(){var e=xu.navigator;return e&&(e=e.userAgent)?e:""}function ju(e){return-1!=Vu().indexOf(e)}function Bu(e){return Bu[" "](e),e}Bu[" "]=function(){};var Uu,zu,qu=ju("Opera"),Gu=ju("Trident")||ju("MSIE"),Ku=ju("Edge"),Wu=Ku||Gu,Hu=ju("Gecko")&&!(-1!=Vu().toLowerCase().indexOf("webkit")&&!ju("Edge"))&&!(ju("Trident")||ju("MSIE"))&&!ju("Edge"),Qu=-1!=Vu().toLowerCase().indexOf("webkit")&&!ju("Edge");function Yu(){var e=xu.document;return e?e.documentMode:void 0}e:{var Xu="",$u=function(){var e=Vu();return Hu?/rv:([^\);]+)(\)|;)/.exec(e):Ku?/Edge\/([\d\.]+)/.exec(e):Gu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qu?/WebKit\/(\S+)/.exec(e):qu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($u&&(Xu=$u?$u[1]:""),Gu){var Ju=Yu();if(null!=Ju&&Ju>parseFloat(Xu)){Uu=String(Ju);break e}}Uu=Xu}if(xu.document&&Gu){var Zu=Yu();zu=Zu||(parseInt(Uu,10)||void 0)}else zu=void 0;var eh=zu;function th(e,t){if(Mu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hu){e:{try{Bu(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&th.$.h.call(this)}}Au(th,Mu);var nh={2:"touch",3:"pen",4:"mouse"};th.prototype.h=function(){th.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rh="closure_listenable_"+(1e6*Math.random()|0),ih=0;function sh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ih,this.fa=this.ia=!1}function oh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ah(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function lh(e){const t={};for(const n in e)t[n]=e[n];return t}const ch="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ch.length;t++)n=ch[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hh(e){this.src=e,this.g={},this.h=0}function dh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Pu(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(oh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}hh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=fh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new sh(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ph="closure_lm_"+(1e6*Math.random()|0),mh={};function gh(e,t,n,r,i){if(r&&r.once)return vh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)gh(e,t[s],n,r,i);return null}return n=Th(n),e&&e[rh]?e.O(t,n,_u(r)?!!r.capture:!!r,i):yh(e,t,n,!1,r,i)}function yh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=_u(i)?!!i.capture:!!i,a=_h(e);if(a||(e[ph]=a=new hh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Sh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ou||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vh(e,t[s],n,r,i);return null}return n=Th(n),e&&e[rh]?e.P(t,n,_u(r)?!!r.capture:!!r,i):yh(e,t,n,!0,r,i)}function wh(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)wh(e,t[s],n,r,i);else r=_u(r)?!!r.capture:!!r,n=Th(n),e&&e[rh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fh(s=e.g[t],n,r,i))&&(oh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=_h(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fh(t,n,r,i)),(n=-1<e?t[e]:null)&&bh(n))}function bh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[rh])dh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_h(t))?(dh(n,e),0==n.h&&(n.src=null,t[ph]=null)):oh(e)}}}function xh(e){return e in mh?mh[e]:mh[e]="on"+e}function Sh(e,t){if(e.fa)e=!0;else{t=new th(t,this);var n=e.listener,r=e.la||e.src;e.ia&&bh(e),e=n.call(r,t)}return e}function _h(e){return(e=e[ph])instanceof hh?e:null}var Eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(e){return"function"===typeof e?e:(e[Eh]||(e[Eh]=function(t){return e.handleEvent(t)}),e[Eh])}function Ih(){Nu.call(this),this.i=new hh(this),this.S=this,this.J=null}function kh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Mu(t,e);else if(t instanceof Mu)t.target=t.target||e;else{var i=t;uh(t=new Mu(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ch(o,r,!0,t)&&i}if(i=Ch(o=t.g=e,r,!0,t)&&i,i=Ch(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ch(o=t.g=n[s],r,!1,t)&&i}function Ch(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&dh(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Au(Ih,Nu),Ih.prototype[rh]=!0,Ih.prototype.removeEventListener=function(e,t,n,r){wh(this,e,t,n,r)},Ih.prototype.N=function(){if(Ih.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oh(n[r]);delete t.g[e],t.h--}}this.J=null},Ih.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ih.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Dh=xu.JSON.stringify;function Ah(){var e=Fh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Nh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ph),(e=>e.reset()));class Ph{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Rh(e){xu.setTimeout((()=>{throw e}),0)}let Mh,Oh=!1,Fh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Nh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Vh=()=>{const e=xu.Promise.resolve(void 0);Mh=()=>{e.then(jh)}};var jh=()=>{for(var e;e=Ah();){try{e.h.call(e.g)}catch(n){Rh(n)}var t=Nh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Oh=!1};function Bh(e,t){Ih.call(this),this.h=e||1,this.g=t||xu,this.j=Cu(this.qb,this),this.l=Date.now()}function Uh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function zh(e,t,n){if("function"===typeof e)n&&(e=Cu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cu(e.handleEvent,e)}return 2147483647<Number(t)?-1:xu.setTimeout(e,t||0)}function qh(e){e.g=zh((()=>{e.g=null,e.i&&(e.i=!1,qh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Au(Bh,Ih),(yu=Bh.prototype).ga=!1,yu.T=null,yu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kh(this,"tick"),this.ga&&(Uh(this),this.start()))}},yu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yu.N=function(){Bh.$.N.call(this),Uh(this),delete this.g};class Gh extends Nu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qh(this)}N(){super.N(),this.g&&(xu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kh(e){Nu.call(this),this.h=e,this.g={}}Au(Kh,Nu);var Wh=[];function Hh(e,t,n,r){Array.isArray(n)||(n&&(Wh[0]=n.toString()),n=Wh);for(var i=0;i<n.length;i++){var s=gh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Qh(e){ah(e.g,(function(e,t){this.g.hasOwnProperty(t)&&bh(e)}),e),e.g={}}function Yh(){this.g=!0}function Xh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Dh(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Kh.prototype.N=function(){Kh.$.N.call(this),Qh(this)},Kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Ea=function(){this.g=!1},Yh.prototype.info=function(){};var $h={},Jh=null;function Zh(){return Jh=Jh||new Ih}function ed(e){Mu.call(this,$h.Ta,e)}function td(e){const t=Zh();kh(t,new ed(t))}function nd(e,t){Mu.call(this,$h.STAT_EVENT,e),this.stat=t}function rd(e){const t=Zh();kh(t,new nd(t,e))}function id(e,t){Mu.call(this,$h.Ua,e),this.size=t}function sd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xu.setTimeout((function(){e()}),t)}$h.Ta="serverreachability",Au(ed,Mu),$h.STAT_EVENT="statevent",Au(nd,Mu),$h.Ua="timingevent",Au(id,Mu);var od={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ad={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ld(){}function cd(e){return e.h||(e.h=e.i())}function ud(){}ld.prototype.h=null;var hd,dd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fd(){Mu.call(this,"d")}function pd(){Mu.call(this,"c")}function md(){}function gd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Kh(this),this.P=vd,e=Wu?125:void 0,this.V=new Bh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}Au(fd,Mu),Au(pd,Mu),Au(md,ld),md.prototype.g=function(){return new XMLHttpRequest},md.prototype.i=function(){return{}},hd=new md;var vd=45e3,wd={},bd={};function xd(e,t,n){e.L=1,e.A=Bd(Md(t)),e.u=n,e.S=!0,Sd(e,null)}function Sd(e,t){e.G=Date.now(),Id(e),e.B=Md(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Zd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new yd,e.g=tp(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Gh(Cu(e.Pa,e,e.g),e.O)),Hh(e.U,e.g,"readystatechange",e.nb),t=e.I?lh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),td(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function _d(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Ed(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Td(e,n),r==bd){4==t&&(e.s=4,rd(14),i=!1),Xh(e.j,e.m,null,"[Incomplete Response]");break}if(r==wd){e.s=4,rd(15),Xh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xh(e.j,e.m,r,null),Nd(e,r)}_d(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,rd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hf(t),t.M=!0,rd(11))):(Xh(e.j,e.m,n,"[Invalid Chunked Response]"),Ad(e),Dd(e))}function Td(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?bd:(n=Number(t.substring(n,r)),isNaN(n)?wd:(r+=1)+n>t.length?bd:(t=t.slice(r,r+n),e.o=r+n,t))}function Id(e){e.Y=Date.now()+e.P,kd(e,e.P)}function kd(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=sd(Cu(e.lb,e),t)}function Cd(e){e.C&&(xu.clearTimeout(e.C),e.C=null)}function Dd(e){0==e.l.H||e.J||Xf(e.l,e)}function Ad(e){Cd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Uh(e.V),Qh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Nd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||af(n.i,e)))if(!e.K&&af(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Yf(n),jf(n)}Wf(n),rd(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=sd(Cu(n.ib,n),6e3));if(1>=of(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Jf(n,11)}else if((e.K||n.g==e)&&Yf(n),!Fu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(lf(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,jd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=ep(r,r.J?r.pa:null,r.Y),o.K){cf(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Cd(a),Id(a)),r.g=o}else Kf(r);0<n.j.length&&Uf(n)}else"stop"!=c[0]&&"close"!=c[0]||Jf(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jf(n,7):Vf(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}td()}catch(c){}}function Pd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Su(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Su(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Su(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(yu=gd.prototype).setTimeout=function(e){this.P=e},yu.nb=function(e){e=e.target;const t=this.M;t&&3==Pf(e)?t.l():this.Pa(e)},yu.Pa=function(e){try{if(e==this.g)e:{const u=Pf(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Wu||this.g&&(this.h.h||this.g.ja()||Lf(this.g)))){this.J||4!=u||7==t||td(),Cd(this);var n=this.g.da();this.ca=n;t:if(_d(this)){var r=Lf(this.g);e="";var i=r.length,s=4==Pf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ad(this),Dd(this);var o="";break t}this.h.i=new xu.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,rd(12),Ad(this),Dd(this);break e}Xh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nd(this,n)}this.S?(Ed(this,u,o),Wu&&this.i&&3==u&&(Hh(this.U,this.V,"tick",this.mb),this.V.start())):(Xh(this.j,this.m,o,null),Nd(this,o)),4==u&&Ad(this),this.i&&!this.J&&(4==u?Xf(this.l,this):(this.i=!1,Id(this)))}else(function(e){const t={};e=(e.g&&2<=Pf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Fu(e[r]))continue;var n=Lh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,rd(12)):(this.s=0,rd(13)),Ad(this),Dd(this)}}}catch(u){}},yu.mb=function(){if(this.g){var e=Pf(this.g),t=this.g.ja();this.o<t.length&&(Cd(this),Ed(this,e,t),this.i&&4!=e&&Id(this))}},yu.cancel=function(){this.J=!0,Ad(this)},yu.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(td(),rd(17)),Ad(this),this.s=2,Dd(this)):kd(this,this.Y-e)};var Ld=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rd){this.h=e.h,Od(this,e.j),this.s=e.s,this.g=e.g,Fd(this,e.m),this.l=e.l;var t=e.i,n=new Yd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Vd(this,n),this.o=e.o}else e&&(t=String(e).match(Ld))?(this.h=!1,Od(this,t[1]||"",!0),this.s=Ud(t[2]||""),this.g=Ud(t[3]||"",!0),Fd(this,t[4]),this.l=Ud(t[5]||"",!0),Vd(this,t[6]||"",!0),this.o=Ud(t[7]||"")):(this.h=!1,this.i=new Yd(null,this.h))}function Md(e){return new Rd(e)}function Od(e,t,n){e.j=n?Ud(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vd(e,t,n){t instanceof Yd?(e.i=t,function(e,t){t&&!e.j&&(Xd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($d(this,t),Zd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zd(t,Hd)),e.i=new Yd(t,e.h))}function jd(e,t,n){e.i.set(t,n)}function Bd(e){return jd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ud(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zd(t,Gd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zd(t,Gd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zd(n,"/"==n.charAt(0)?Wd:Kd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zd(n,Qd)),e.join("")};var Gd=/[#\/\?@]/g,Kd=/[#\?:]/g,Wd=/[#\?]/g,Hd=/[#\?@]/g,Qd=/#/g;function Yd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $d(e,t){Xd(e),t=ef(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jd(e,t){return Xd(e),t=ef(e,t),e.g.has(t)}function Zd(e,t,n){$d(e,t),0<n.length&&(e.i=null,e.g.set(ef(e,t),Lu(n)),e.h+=n.length)}function ef(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(yu=Yd.prototype).add=function(e,t){Xd(this),this.i=null,e=ef(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},yu.forEach=function(e,t){Xd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},yu.ta=function(){Xd(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},yu.Z=function(e){Xd(this);let t=[];if("string"===typeof e)Jd(this,e)&&(t=t.concat(this.g.get(ef(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},yu.set=function(e,t){return Xd(this),this.i=null,Jd(this,e=ef(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},yu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},yu.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var tf=class{constructor(e,t){this.g=e,this.map=t}};function nf(e){this.l=e||rf,xu.PerformanceNavigationTiming?e=0<(e=xu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xu.g&&xu.g.Ka&&xu.g.Ka()&&xu.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rf=10;function sf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function of(e){return e.h?1:e.g?e.g.size:0}function af(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lf(e,t){e.g?e.g.add(t):e.h=t}function cf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function uf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Lu(e.i)}nf.prototype.cancel=function(){if(this.i=uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var hf,df=class{stringify(e){return xu.JSON.stringify(e,void 0)}parse(e){return xu.JSON.parse(e,void 0)}};function ff(){this.g=new df}function pf(e,t,n){const r=n||"";try{Pd(e,(function(e,n){let i=e;_u(e)&&(i=Dh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function gf(e){this.l=e.ec||null,this.j=e.ob||!1}function yf(e,t){Ih.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=vf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Au(gf,ld),gf.prototype.g=function(){return new yf(this.l,this.j)},gf.prototype.i=(hf={},function(){return hf}),Au(yf,Ih);var vf=0;function wf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function bf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xf(e)}function xf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(yu=yf.prototype).open=function(e,t){if(this.readyState!=vf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xf(this)},yu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},yu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bf(this)),this.readyState=vf},yu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xf(this)),this.g&&(this.readyState=3,xf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof xu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},yu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bf(this):xf(this),3==this.readyState&&wf(this)}},yu.Za=function(e){this.g&&(this.response=this.responseText=e,bf(this))},yu.Ya=function(e){this.g&&(this.response=e,bf(this))},yu.ka=function(){this.g&&bf(this)},yu.setRequestHeader=function(e,t){this.v.append(e,t)},yu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},yu.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sf=xu.JSON.parse;function _f(e){Ih.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ef,this.L=this.M=!1}Au(_f,Ih);var Ef="",Tf=/^https?$/i,If=["POST","PUT"];function kf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cf(e),Af(e)}function Cf(e){e.F||(e.F=!0,kh(e,"complete"),kh(e,"error"))}function Df(e){if(e.h&&"undefined"!=typeof bu&&(!e.C[1]||4!=Pf(e)||2!=e.da()))if(e.v&&4==Pf(e))zh(e.La,0,e);else if(kh(e,"readystatechange"),4==Pf(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Ld)[1]||null;!i&&xu.self&&xu.self.location&&(i=xu.self.location.protocol.slice(0,-1)),r=!Tf.test(i?i.toLowerCase():"")}n=r}if(n)kh(e,"complete"),kh(e,"success");else{e.m=6;try{var s=2<Pf(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Cf(e)}}finally{Af(e)}}}function Af(e,t){if(e.g){Nf(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||kh(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Nf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xu.clearTimeout(e.A),e.A=null)}function Pf(e){return e.g?e.g.readyState:0}function Lf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ef:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bp){return null}}function Rf(e){let t="";return ah(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jd(e,t,n))}function Of(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ff(e){this.Ga=0,this.j=[],this.l=new Yh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Of("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Of("baseRetryDelayMs",5e3,e),this.hb=Of("retryDelaySeedMs",1e4,e),this.eb=Of("forwardChannelMaxRetries",2,e),this.xa=Of("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nf(e&&e.concurrentRequestLimit),this.Ja=new ff,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Vf(e){if(Bf(e),3==e.H){var t=e.W++,n=Md(e.I);if(jd(n,"SID",e.K),jd(n,"RID",t),jd(n,"TYPE","terminate"),qf(e,n),(t=new gd(e,e.l,t)).L=2,t.A=Bd(Md(n)),n=!1,xu.navigator&&xu.navigator.sendBeacon)try{n=xu.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&xu.Image&&((new Image).src=t.A,n=!0),n||(t.g=tp(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Id(t)}Zf(e)}function jf(e){e.g&&(Hf(e),e.g.cancel(),e.g=null)}function Bf(e){jf(e),e.u&&(xu.clearTimeout(e.u),e.u=null),Yf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xu.clearTimeout(e.m),e.m=null)}function Uf(e){if(!sf(e.i)&&!e.m){e.m=!0;var t=e.Na;Mh||Vh(),Oh||(Mh(),Oh=!0),Fh.add(t,e),e.C=0}}function zf(e,t){var n;n=t?t.m:e.W++;const r=Md(e.I);jd(r,"SID",e.K),jd(r,"RID",n),jd(r,"AID",e.V),qf(e,r),e.o&&e.s&&Mf(r,e.o,e.s),n=new gd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Gf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),lf(e.i,n),xd(n,r,t)}function qf(e,t){e.na&&ah(e.na,(function(e,n){jd(t,n,e)})),e.h&&Pd({},(function(e,n){jd(t,n,e)}))}function Gf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Cu(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{pf(a,e,"req"+n+"_")}catch(rg){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Kf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Mh||Vh(),Oh||(Mh(),Oh=!0),Fh.add(t,e),e.A=0}}function Wf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=sd(Cu(e.Ma,e),$f(e,e.A)),e.A++,!0)}function Hf(e){null!=e.B&&(xu.clearTimeout(e.B),e.B=null)}function Qf(e){e.g=new gd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Md(e.wa);jd(t,"RID","rpc"),jd(t,"SID",e.K),jd(t,"AID",e.V),jd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&jd(t,"TO",e.qa),jd(t,"TYPE","xmlhttp"),qf(e,t),e.o&&e.s&&Mf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Bd(Md(t)),n.u=null,n.S=!0,Sd(n,e)}function Yf(e){null!=e.v&&(xu.clearTimeout(e.v),e.v=null)}function Xf(e,t){var n=null;if(e.g==t){Yf(e),Hf(e),e.g=null;var r=2}else{if(!af(e.i,t))return;n=t.F,cf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;kh(r=Zh(),new id(r,n)),Uf(e)}else Kf(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(of(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=sd(Cu(e.Na,e,t),$f(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jf(e,5);break;case 4:Jf(e,10);break;case 3:Jf(e,6);break;default:Jf(e,2)}}function $f(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Jf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Cu(e.pb,e);n||(n=new Rd("//www.google.com/images/cleardot.gif"),xu.location&&"http"==xu.location.protocol||Od(n,"https"),Bd(n)),function(e,t){const n=new Yh;if(xu.Image){const r=new Image;r.onload=Du(mf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Du(mf,n,r,"TestLoadImage: error",!1,t),r.onabort=Du(mf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Du(mf,n,r,"TestLoadImage: timeout",!1,t),xu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rd(2);e.H=0,e.h&&e.h.za(t),Zf(e),Bf(e)}function Zf(e){if(e.H=0,e.ma=[],e.h){const t=uf(e.i);0==t.length&&0==e.j.length||(Ru(e.ma,t),Ru(e.ma,e.j),e.i.i.length=0,Lu(e.j),e.j.length=0),e.h.ya()}}function ep(e,t,n){var r=n instanceof Rd?Md(n):new Rd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Fd(r,r.m);else{var i=xu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Rd(null);r&&Od(s,r),t&&(s.g=t),i&&Fd(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&jd(r,n,t),jd(r,"VER",e.ra),qf(e,r),r}function tp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new _f(new gf({ob:n})):new _f(e.va)).Oa(e.J),t}function np(){}function rp(){if(Gu&&!(10<=Number(eh)))throw Error("Environmental error: no available transport.")}function ip(e,t){Ih.call(this),this.g=new Ff(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ap(this)}function sp(e){fd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function op(){pd.call(this),this.status=1}function ap(e){this.g=e}function lp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function up(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(yu=_f.prototype).Oa=function(e){this.M=e},yu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hd.g(),this.C=this.u?cd(this.u):cd(hd),this.g.onreadystatechange=Cu(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void kf(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=xu.FormData&&e instanceof xu.FormData,!(0<=Pu(If,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Nf(this),0<this.B&&((this.L=function(e){return Gu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cu(this.ua,this)):this.A=zh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){kf(this,s)}},yu.ua=function(){"undefined"!=typeof bu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kh(this,"timeout"),this.abort(8))},yu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kh(this,"complete"),kh(this,"abort"),Af(this))},yu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Af(this,!0)),_f.$.N.call(this)},yu.La=function(){this.s||(this.G||this.v||this.l?Df(this):this.kb())},yu.kb=function(){Df(this)},yu.isActive=function(){return!!this.g},yu.da=function(){try{return 2<Pf(this)?this.g.status:-1}catch(hf){return-1}},yu.ja=function(){try{return this.g?this.g.responseText:""}catch(hf){return""}},yu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sf(t)}},yu.Ia=function(){return this.m},yu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(yu=Ff.prototype).ra=8,yu.H=1,yu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new gd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=lh(s),uh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gf(this,i,t),jd(n=Md(this.I),"RID",e),jd(n,"CVER",22),this.F&&jd(n,"X-HTTP-Session-Id",this.F),qf(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rf(s)))+"&"+t:this.o&&Mf(n,this.o,s)),lf(this.i,i),this.bb&&jd(n,"TYPE","init"),this.P?(jd(n,"$req",t),jd(n,"SID","null"),i.aa=!0,xd(i,n,null)):xd(i,n,t),this.H=2}}else 3==this.H&&(e?zf(this,e):0==this.j.length||sf(this.i)||zf(this))},yu.Ma=function(){if(this.u=null,Qf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=sd(Cu(this.jb,this),e)}},yu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rd(10),jf(this),Qf(this))},yu.ib=function(){null!=this.v&&(this.v=null,jf(this),Wf(this),rd(19))},yu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),rd(2)):(this.l.info("Failed to ping google.com"),rd(1))},yu.isActive=function(){return!!this.h&&this.h.isActive(this)},(yu=np.prototype).Ba=function(){},yu.Aa=function(){},yu.za=function(){},yu.ya=function(){},yu.isActive=function(){return!0},yu.Va=function(){},rp.prototype.g=function(e,t){return new ip(e,t)},Au(ip,Ih),ip.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;rd(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ep(e,null,e.Y),Uf(e)},ip.prototype.close=function(){Vf(this.g)},ip.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Dh(e),e=n);t.j.push(new tf(t.fb++,e)),3==t.H&&Uf(t)},ip.prototype.N=function(){this.g.h=null,delete this.j,Vf(this.g),delete this.g,ip.$.N.call(this)},Au(sp,fd),Au(op,pd),Au(ap,np),ap.prototype.Ba=function(){kh(this.g,"a")},ap.prototype.Aa=function(e){kh(this.g,new sp(e))},ap.prototype.za=function(e){kh(this.g,new op)},ap.prototype.ya=function(){kh(this.g,"b")},Au(lp,(function(){this.blockSize=-1})),lp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)cp(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){cp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){cp(this,r),i=0;break}}this.h=i,this.i+=t},lp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var hp={};function dp(e){return-128<=e&&128>e?function(e,t){var n=hp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new up([0|e],0>e?-1:0)})):new up([0|e],0>e?-1:0)}function fp(e){if(isNaN(e)||!isFinite(e))return mp;if(0>e)return bp(fp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=pp;return new up(t,0)}var pp=4294967296,mp=dp(0),gp=dp(1),yp=dp(16777216);function vp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function wp(e){return-1==e.h}function bp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new up(n,~e.h).add(gp)}function xp(e,t){return e.add(bp(t))}function Sp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function _p(e,t){this.g=e,this.h=t}function Ep(e,t){if(vp(t))throw Error("division by zero");if(vp(e))return new _p(mp,mp);if(wp(e))return t=Ep(bp(e),t),new _p(bp(t.g),bp(t.h));if(wp(t))return t=Ep(e,bp(t)),new _p(bp(t.g),t.h);if(30<e.g.length){if(wp(e)||wp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=gp,r=t;0>=r.X(e);)n=Tp(n),r=Tp(r);var i=Ip(n,1),s=Ip(r,1);for(r=Ip(r,2),n=Ip(n,2);!vp(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ip(r,1),n=Ip(n,1)}return t=xp(e,i.R(t)),new _p(i,t)}for(i=mp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=fp(n)).R(t);wp(o)||0<o.X(e);)o=(s=fp(n-=r)).R(t);vp(s)&&(s=gp),i=i.add(s),e=xp(e,o)}return new _p(i,e)}function Tp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new up(n,e.h)}function Ip(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new up(i,e.h)}(yu=up.prototype).ea=function(){if(wp(this))return-bp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:pp+r)*t,t*=pp}return e},yu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(vp(this))return"0";if(wp(this))return"-"+bp(this).toString(e);for(var t=fp(Math.pow(e,6)),n=this,r="";;){var i=Ep(n,t).g,s=((0<(n=xp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(vp(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},yu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},yu.X=function(e){return wp(e=xp(this,e))?-1:vp(e)?0:1},yu.abs=function(){return wp(this)?bp(this):this},yu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new up(n,-2147483648&n[n.length-1]?-1:0)},yu.R=function(e){if(vp(this)||vp(e))return mp;if(wp(this))return wp(e)?bp(this).R(bp(e)):bp(bp(this).R(e));if(wp(e))return bp(this.R(bp(e)));if(0>this.X(yp)&&0>e.X(yp))return fp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Sp(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Sp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Sp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Sp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new up(n,0)},yu.gb=function(e){return Ep(this,e).h},yu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new up(n,this.h&e.h)},yu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new up(n,this.h|e.h)},yu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new up(n,this.h^e.h)},rp.prototype.createWebChannel=rp.prototype.g,ip.prototype.send=ip.prototype.u,ip.prototype.open=ip.prototype.m,ip.prototype.close=ip.prototype.close,od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,ad.COMPLETE="complete",ud.EventType=dd,dd.OPEN="a",dd.CLOSE="b",dd.ERROR="c",dd.MESSAGE="d",Ih.prototype.listen=Ih.prototype.O,_f.prototype.listenOnce=_f.prototype.P,_f.prototype.getLastError=_f.prototype.Sa,_f.prototype.getLastErrorCode=_f.prototype.Ia,_f.prototype.getStatus=_f.prototype.da,_f.prototype.getResponseJson=_f.prototype.Wa,_f.prototype.getResponseText=_f.prototype.ja,_f.prototype.send=_f.prototype.ha,_f.prototype.setWithCredentials=_f.prototype.Oa,lp.prototype.digest=lp.prototype.l,lp.prototype.reset=lp.prototype.reset,lp.prototype.update=lp.prototype.j,up.prototype.add=up.prototype.add,up.prototype.multiply=up.prototype.R,up.prototype.modulo=up.prototype.gb,up.prototype.compare=up.prototype.X,up.prototype.toNumber=up.prototype.ea,up.prototype.toString=up.prototype.toString,up.prototype.getBits=up.prototype.D,up.fromNumber=fp,up.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return bp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=fp(Math.pow(n,8)),i=mp,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=fp(Math.pow(n,o)),i=i.R(o).add(fp(a))):i=(i=i.R(r)).add(fp(a))}return i};var kp=wu.createWebChannelTransport=function(){return new rp},Cp=wu.getStatEventTarget=function(){return Zh()},Dp=wu.ErrorCode=od,Ap=wu.EventType=ad,Np=wu.Event=$h,Pp=wu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lp=(wu.FetchXmlHttpFactory=gf,wu.WebChannel=ud),Rp=wu.XhrIo=_f,Mp=wu.Md5=lp,Op=wu.Integer=up;const Fp="@firebase/firestore";class Vp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vp.UNAUTHENTICATED=new Vp(null),Vp.GOOGLE_CREDENTIALS=new Vp("google-credentials-uid"),Vp.FIRST_PARTY=new Vp("first-party-uid"),Vp.MOCK_USER=new Vp("mock-user");let jp="10.7.2";const Bp=new dc("@firebase/firestore");function Up(){return Bp.logLevel}function zp(e){if(Bp.logLevel<=ac.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kp);Bp.debug("Firestore (".concat(jp,"): ").concat(e),...i)}}function qp(e){if(Bp.logLevel<=ac.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kp);Bp.error("Firestore (".concat(jp,"): ").concat(e),...i)}}function Gp(e){if(Bp.logLevel<=ac.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Kp);Bp.warn("Firestore (".concat(jp,"): ").concat(e),...i)}}function Kp(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Wp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(jp,") INTERNAL ASSERTION FAILED: ")+e;throw qp(t),new Error(t)}function Hp(e,t){e||Wp()}function Qp(e,t){return e}const Yp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xp extends Wl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class $p{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Jp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Zp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vp.UNAUTHENTICATED)))}shutdown(){}}class em{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tm{constructor(e){this.t=e,this.currentUser=Vp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $p;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $p,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{zp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(zp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $p)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(zp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Hp("string"==typeof t.accessToken),new Jp(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hp(null===e||"string"==typeof e),new Vp(e)}}class nm{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Vp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new nm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Vp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class im{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sm{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&zp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,zp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{zp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):zp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Hp("string"==typeof e.token),this.R=e.token,new im(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function om(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=om(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function lm(e,t){return e<t?-1:e>t?1:0}function cm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function um(e){return e+"\0"}class hm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xp(Yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xp(Yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xp(Yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xp(Yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hm.fromMillis(Date.now())}static fromDate(e){return hm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new hm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lm(this.nanoseconds,e.nanoseconds):lm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dm(e)}static min(){return new dm(new hm(0,0))}static max(){return new dm(new hm(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fm{constructor(e,t,n){void 0===t?t=0:t>e.length&&Wp(),void 0===n?n=e.length-t:n>e.length-t&&Wp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===fm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pm extends fm{construct(e,t,n){return new pm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new pm(e)}static emptyPath(){return new pm([])}}const mm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gm extends fm{construct(e,t,n){return new gm(e,t,n)}static isValidIdentifier(e){return mm.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Xp(Yp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Xp(Yp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Xp(Yp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gm(t)}static emptyPath(){return new gm([])}}class ym{constructor(e){this.path=e}static fromPath(e){return new ym(pm.fromString(e))}static fromName(e){return new ym(pm.fromString(e).popFirst(5))}static empty(){return new ym(pm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ym(new pm(e.slice()))}}class vm{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function wm(e){return e.fields.find((e=>2===e.kind))}function bm(e){return e.fields.filter((e=>2!==e.kind))}vm.UNKNOWN_ID=-1;class xm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sm(0,Tm.min())}}function _m(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=dm.fromTimestamp(1e9===r?new hm(n+1,0):new hm(n,r));return new Tm(i,ym.empty(),t)}function Em(e){return new Tm(e.readTime,e.key,-1)}class Tm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Tm(dm.min(),ym.empty(),-1)}static max(){return new Tm(dm.max(),ym.empty(),-1)}}function Im(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ym.comparator(e.documentKey,t.documentKey),0!==n?n:lm(e.largestBatchId,t.largestBatchId))}const km="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dm(e){if(e.code!==Yp.FAILED_PRECONDITION||e.message!==km)throw e;zp("LocalStore","Unexpectedly lost primary lease")}class Am{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Wp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Am(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Am?t:Am.resolve(t)}catch(e){return Am.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Am.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Am.reject(t)}static resolve(e){return new Am(((t,n)=>{t(e)}))}static reject(e){return new Am(((t,n)=>{n(e)}))}static waitFor(e){return new Am(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Am.resolve(!1);for(const n of e)t=t.next((e=>e?Am.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Am(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Am(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Nm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new $p,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Rm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=jm(t.target.error);this.V.reject(new Rm(e,n))}}static open(e,t,n,r){try{return new Nm(t,e.transaction(r,n))}catch(e){throw new Rm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(zp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Om(t)}}class Pm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Pm.S(ql())&&qp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return zp("SimpleDb","Removing database:",e),Fm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Kl())return!1;if(Pm.C())return!0;const e=ql(),t=Pm.S(e),n=0<t&&t<10,r=Pm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(zp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Rm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Xp(Yp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Xp(Yp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Rm(e,r))},r.onupgradeneeded=e=>{zp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{zp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Nm.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Am.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(zp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Lm{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Fm(this.k.delete())}}class Rm extends Xp{constructor(e,t){super(Yp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Mm(e){return"IndexedDbTransactionError"===e.name}class Om{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(zp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fm(n)}add(e){return zp("SimpleDb","ADD",this.store.name,e,e),Fm(this.store.add(e))}get(e){return Fm(this.store.get(e)).next((t=>(void 0===t&&(t=null),zp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return zp("SimpleDb","DELETE",this.store.name,e),Fm(this.store.delete(e))}count(){return zp("SimpleDb","COUNT",this.store.name),Fm(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Am(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Am(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){zp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Am(((n,r)=>{t.onerror=e=>{const t=jm(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Am(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Lm(i),o=t(i.primaryKey,i.value,s);if(o instanceof Am){const e=o.catch((e=>(s.done(),Am.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Am.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fm(e){return new Am(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=jm(e.target.error);n(t)}}))}let Vm=!1;function jm(e){const t=Pm.S(ql());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Xp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vm||(Vm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Bm{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){zp("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{zp("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Mm(e)?zp("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Dm(e)}await this.ee(6e4)}))}}class Um{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Am.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return zp("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(zp("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Em(t);Im(r,n)>0&&(n=r)})),new Tm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function qm(e){return null==e}function Gm(e){return 0===e&&1/e==-1/0}function Km(e){return"number"==typeof e&&Number.isInteger(e)&&!Gm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Wm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Qm(t)),t=Hm(e.get(n),t);return Qm(t)}function Hm(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Qm(e){return e+"\x01\x01"}function Ym(e){const t=e.length;if(Hp(t>=2),2===t)return Hp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),pm.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Wp(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Wp()}s=t+2}return new pm(r)}zm._e=-1;const Xm=["userId","batchId"];function $m(e,t){return[e,Wm(t)]}function Jm(e,t,n){return[e,Wm(t),n]}const Zm={},eg=["prefixPath","collectionGroup","readTime","documentId"],tg=["prefixPath","collectionGroup","documentId"],ng=["collectionGroup","readTime","prefixPath","documentId"],rg=["canonicalId","targetId"],ig=["targetId","path"],sg=["path","targetId"],og=["collectionId","parent"],ag=["indexId","uid"],lg=["uid","sequenceNumber"],cg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ug=["indexId","uid","orderedDocumentKey"],hg=["userId","collectionPath","documentId"],dg=["userId","collectionPath","largestBatchId"],fg=["userId","collectionGroup","largestBatchId"],pg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mg=[...pg,"documentOverlays"],gg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yg=gg,vg=[...yg,"indexConfiguration","indexState","indexEntries"];class wg extends Cm{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function bg(e,t){const n=Qp(e);return Pm.M(n.ae,t)}function xg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _g(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Eg{constructor(e,t){this.comparator=e,this.root=t||Ig.EMPTY}insert(e,t){return new Eg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ig.BLACK,null,null))}remove(e){return new Eg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ig.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tg(this.root,e,this.comparator,!0)}}class Tg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ig{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ig.RED,this.left=null!=r?r:Ig.EMPTY,this.right=null!=i?i:Ig.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ig(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ig.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ig.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ig.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ig.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Wp();if(this.right.isRed())throw Wp();const e=this.left.check();if(e!==this.right.check())throw Wp();return e+(this.isRed()?0:1)}}Ig.EMPTY=null,Ig.RED=!0,Ig.BLACK=!1,Ig.EMPTY=new class{constructor(){this.size=0}get key(){throw Wp()}get value(){throw Wp()}get color(){throw Wp()}get left(){throw Wp()}get right(){throw Wp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ig(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kg{constructor(e){this.comparator=e,this.data=new Eg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cg(this.data.getIterator())}getIteratorFrom(e){return new Cg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof kg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kg(this.comparator);return t.data=e,t}}class Cg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dg(e){return e.hasNext()?e.getNext():void 0}class Ag{constructor(e){this.fields=e,e.sort(gm.comparator)}static empty(){return new Ag([])}unionWith(e){let t=new kg(gm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ag(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ng extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ng("Invalid base64 string: "+e):e}}(e);return new Pg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Pg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pg.EMPTY_BYTE_STRING=new Pg("");const Lg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rg(e){if(Hp(!!e),"string"==typeof e){let t=0;const n=Lg.exec(e);if(Hp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Mg(e.seconds),nanos:Mg(e.nanos)}}function Mg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Og(e){return"string"==typeof e?Pg.fromBase64String(e):Pg.fromUint8Array(e)}function Fg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vg(e){const t=e.mapValue.fields.__previous_value__;return Fg(t)?Vg(t):t}function jg(e){const t=Rg(e.mapValue.fields.__local_write_time__.timestampValue);return new hm(t.seconds,t.nanos)}class Bg{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ug{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ug("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ug&&e.projectId===this.projectId&&e.database===this.database}}const zg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qg={nullValue:"NULL_VALUE"};function Gg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fg(e)?4:iy(e)?9007199254740991:10:Wp()}function Kg(e,t){if(e===t)return!0;const n=Gg(e);if(n!==Gg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jg(e).isEqual(jg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rg(e.timestampValue),r=Rg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Og(e.bytesValue).isEqual(Og(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mg(e.geoPointValue.latitude)===Mg(t.geoPointValue.latitude)&&Mg(e.geoPointValue.longitude)===Mg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mg(e.integerValue)===Mg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Mg(e.doubleValue),r=Mg(t.doubleValue);return n===r?Gm(n)===Gm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cm(e.arrayValue.values||[],t.arrayValue.values||[],Kg);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xg(n)!==xg(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kg(n[i],r[i])))return!1;return!0}(e,t);default:return Wp()}}function Wg(e,t){return void 0!==(e.values||[]).find((e=>Kg(e,t)))}function Hg(e,t){if(e===t)return 0;const n=Gg(e),r=Gg(t);if(n!==r)return lm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Mg(e.integerValue||e.doubleValue),r=Mg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qg(e.timestampValue,t.timestampValue);case 4:return Qg(jg(e),jg(t));case 5:return lm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Og(e),r=Og(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=lm(n[i],r[i]);if(0!==e)return e}return lm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=lm(Mg(e.latitude),Mg(t.latitude));return 0!==n?n:lm(Mg(e.longitude),Mg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hg(n[i],r[i]);if(e)return e}return lm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zg.mapValue&&t===zg.mapValue)return 0;if(e===zg.mapValue)return 1;if(t===zg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=lm(r[o],s[o]);if(0!==e)return e;const t=Hg(n[r[o]],i[s[o]]);if(0!==t)return t}return lm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Wp()}}function Qg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return lm(e,t);const n=Rg(e),r=Rg(t),i=lm(n.seconds,r.seconds);return 0!==i?i:lm(n.nanos,r.nanos)}function Yg(e){return Xg(e)}function Xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Og(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ym.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xg(e.fields[i]));return n+"}"}(e.mapValue):Wp()}function $g(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Jg(e){return!!e&&"integerValue"in e}function Zg(e){return!!e&&"arrayValue"in e}function ey(e){return!!e&&"nullValue"in e}function ty(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ny(e){return!!e&&"mapValue"in e}function ry(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Sg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ry(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ry(e.arrayValue.values[n]);return t}return Object.assign({},e)}function iy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sy(e){return"nullValue"in e?qg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?$g(Ug.empty(),ym.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Wp()}function oy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?$g(Ug.empty(),ym.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?zg:Wp()}function ay(e,t){const n=Hg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ly(e,t){const n=Hg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class cy{constructor(e){this.value=e}static empty(){return new cy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ny(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ry(t)}setAll(e){let t=gm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ry(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ny(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Sg(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new cy(ry(this.value))}}function uy(e){const t=[];return Sg(e.fields,((e,n)=>{const r=new gm([e]);if(ny(n)){const e=uy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ag(t)}class hy{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new hy(e,0,dm.min(),dm.min(),dm.min(),cy.empty(),0)}static newFoundDocument(e,t,n,r){return new hy(e,1,t,dm.min(),n,r,0)}static newNoDocument(e,t){return new hy(e,2,t,dm.min(),dm.min(),cy.empty(),0)}static newUnknownDocument(e,t){return new hy(e,3,t,dm.min(),dm.min(),cy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hy&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hy(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dy{constructor(e,t){this.position=e,this.inclusive=t}}function fy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ym.comparator(ym.fromName(o.referenceValue),n.key):Hg(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function py(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kg(e.position[n],t.position[n]))return!1;return!0}class my{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function gy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class yy{}class vy extends yy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cy(e,t,n):"array-contains"===t?new Py(e,n):"in"===t?new Ly(e,n):"not-in"===t?new Ry(e,n):"array-contains-any"===t?new My(e,n):new vy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Dy(e,n):new Ay(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hg(t,this.value)):null!==t&&Gg(this.value)===Gg(t)&&this.matchesComparison(Hg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wy extends yy{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new wy(e,t)}matches(e){return by(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function by(e){return"and"===e.op}function xy(e){return"or"===e.op}function Sy(e){return _y(e)&&by(e)}function _y(e){for(const t of e.filters)if(t instanceof wy)return!1;return!0}function Ey(e){if(e instanceof vy)return e.field.canonicalString()+e.op.toString()+Yg(e.value);if(Sy(e))return e.filters.map((e=>Ey(e))).join(",");{const t=e.filters.map((e=>Ey(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ty(e,t){return e instanceof vy?function(e,t){return t instanceof vy&&e.op===t.op&&e.field.isEqual(t.field)&&Kg(e.value,t.value)}(e,t):e instanceof wy?function(e,t){return t instanceof wy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ty(n,t.filters[r])),!0)}(e,t):void Wp()}function Iy(e,t){const n=e.filters.concat(t);return wy.create(n,e.op)}function ky(e){return e instanceof vy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Yg(e.value))}(e):e instanceof wy?function(e){return e.op.toString()+" {"+e.getFilters().map(ky).join(" ,")+"}"}(e):"Filter"}class Cy extends vy{constructor(e,t,n){super(e,t,n),this.key=ym.fromName(n.referenceValue)}matches(e){const t=ym.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dy extends vy{constructor(e,t){super(e,"in",t),this.keys=Ny("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ay extends vy{constructor(e,t){super(e,"not-in",t),this.keys=Ny("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ny(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ym.fromName(e.referenceValue)))}class Py extends vy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zg(t)&&Wg(t.arrayValue,this.value)}}class Ly extends vy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wg(this.value.arrayValue,t)}}class Ry extends vy{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wg(this.value.arrayValue,t)}}class My extends vy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Wg(this.value.arrayValue,e)))}}class Oy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Fy(e){return new Oy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vy(e){const t=Qp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ey(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),qm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Yg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Yg(e))).join(",")),t.ce=e}return t.ce}function jy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ty(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!py(e.startAt,t.startAt)&&py(e.endAt,t.endAt)}function By(e){return ym.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Uy(e,t){return e.filters.filter((e=>e instanceof vy&&e.field.isEqual(t)))}function zy(e,t,n){let r=qg,i=!0;for(const s of Uy(e,t)){let e=qg,t=!0;switch(s.op){case"<":case"<=":e=sy(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=qg}ay({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ay({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function qy(e,t,n){let r=zg,i=!0;for(const s of Uy(e,t)){let e=zg,t=!0;switch(s.op){case">=":case">":e=oy(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=zg}ly({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ly({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Gy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Ky(e,t,n,r,i,s,o,a){return new Gy(e,t,n,r,i,s,o,a)}function Wy(e){return new Gy(e)}function Hy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qy(e){return null!==e.collectionGroup}function Yy(e){const t=Qp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new kg(gm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new my(r,n))})),e.has(gm.keyField().canonicalString())||t.le.push(new my(gm.keyField(),n))}return t.le}function Xy(e){const t=Qp(e);return t.he||(t.he=$y(t,Yy(e))),t.he}function $y(e,t){if("F"===e.limitType)return Fy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new my(e.field,t)}));const n=e.endAt?new dy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dy(e.startAt.position,e.startAt.inclusive):null;return Fy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Jy(e,t){const n=e.filters.concat([t]);return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zy(e,t,n){return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ev(e,t){return jy(Xy(e),Xy(t))&&e.limitType===t.limitType}function tv(e){return"".concat(Vy(Xy(e)),"|lt:").concat(e.limitType)}function nv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ky(e))).join(", "),"]")),qm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Yg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Yg(e))).join(",")),"Target(".concat(t,")")}(Xy(e)),"; limitType=").concat(e.limitType,")")}function rv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ym.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Yy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=fy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yy(e),t))&&!(e.endAt&&!function(e,t,n){const r=fy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yy(e),t))}(e,t)}function iv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sv(e){return(t,n)=>{let r=!1;for(const i of Yy(e)){const e=ov(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ov(e,t,n){const r=e.field.isKeyField()?ym.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hg(r,i):Wp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wp()}}class av{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sg(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return _g(this.inner)}size(){return this.innerSize}}const lv=new Eg(ym.comparator);function cv(){return lv}const uv=new Eg(ym.comparator);function hv(){let e=uv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function dv(e){let t=uv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function fv(){return mv()}function pv(){return mv()}function mv(){return new av((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gv=new Eg(ym.comparator),yv=new kg(ym.comparator);function vv(){let e=yv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const wv=new kg(lm);function bv(){return wv}function xv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(t)?"-0":t}}function Sv(e){return{integerValue:""+e}}function _v(e,t){return Km(t)?Sv(t):xv(e,t)}class Ev{constructor(){this._=void 0}}function Tv(e,t,n){return e instanceof Cv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Fg(t)&&(t=Vg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dv?Av(e,t):e instanceof Nv?Pv(e,t):function(e,t){const n=kv(e,t),r=Rv(n)+Rv(e.Ie);return Jg(n)&&Jg(e.Ie)?Sv(r):xv(e.serializer,r)}(e,t)}function Iv(e,t,n){return e instanceof Dv?Av(e,t):e instanceof Nv?Pv(e,t):n}function kv(e,t){return e instanceof Lv?function(e){return Jg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Cv extends Ev{}class Dv extends Ev{constructor(e){super(),this.elements=e}}function Av(e,t){const n=Mv(t);for(const r of e.elements)n.some((e=>Kg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Nv extends Ev{constructor(e){super(),this.elements=e}}function Pv(e,t){let n=Mv(t);for(const r of e.elements)n=n.filter((e=>!Kg(e,r)));return{arrayValue:{values:n}}}class Lv extends Ev{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Rv(e){return Mg(e.integerValue||e.doubleValue)}function Mv(e){return Zg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ov{constructor(e,t){this.field=e,this.transform=t}}class Fv{constructor(e,t){this.version=e,this.transformResults=t}}class Vv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vv}static exists(e){return new Vv(void 0,e)}static updateTime(e){return new Vv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bv{}function Uv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $v(e.key,Vv.none()):new Wv(e.key,e.data,Vv.none());{const n=e.data,r=cy.empty();let i=new kg(gm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Hv(e.key,r,new Ag(i.toArray()),Vv.none())}}function zv(e,t,n){e instanceof Wv?function(e,t,n){const r=e.value.clone(),i=Yv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hv?function(e,t,n){if(!jv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qv(e,t,n,r){return e instanceof Wv?function(e,t,n,r){if(!jv(e.precondition,t))return n;const i=e.value.clone(),s=Xv(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Hv?function(e,t,n,r){if(!jv(e.precondition,t))return n;const i=Xv(e.fieldTransforms,r,t),s=t.data;return s.setAll(Qv(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=kv(r.transform,e||null);null!=i&&(null===n&&(n=cy.empty()),n.set(r.field,i))}return n||null}function Kv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&cm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dv&&t instanceof Dv||e instanceof Nv&&t instanceof Nv?cm(e.elements,t.elements,Kg):e instanceof Lv&&t instanceof Lv?Kg(e.Ie,t.Ie):e instanceof Cv&&t instanceof Cv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wv extends Bv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hv extends Bv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Qv(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Yv(e,t,n){const r=new Map;Hp(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Iv(o,a,n[i]))}return r}function Xv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Tv(e,s,t))}return r}class $v extends Bv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jv extends Bv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pv();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Uv(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(dm.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vv())}isEqual(e){return this.batchId===e.batchId&&cm(this.mutations,e.mutations,((e,t)=>Kv(e,t)))&&cm(this.baseMutations,e.baseMutations,((e,t)=>Kv(e,t)))}}class ew{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Hp(e.mutations.length===n.length);let r=gv;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ew(e,t,n,r)}}class tw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class nw{constructor(e,t){this.count=e,this.unchangedNames=t}}var rw,iw;function sw(e){switch(e){default:return Wp();case Yp.CANCELLED:case Yp.UNKNOWN:case Yp.DEADLINE_EXCEEDED:case Yp.RESOURCE_EXHAUSTED:case Yp.INTERNAL:case Yp.UNAVAILABLE:case Yp.UNAUTHENTICATED:return!1;case Yp.INVALID_ARGUMENT:case Yp.NOT_FOUND:case Yp.ALREADY_EXISTS:case Yp.PERMISSION_DENIED:case Yp.FAILED_PRECONDITION:case Yp.ABORTED:case Yp.OUT_OF_RANGE:case Yp.UNIMPLEMENTED:case Yp.DATA_LOSS:return!0}}function ow(e){if(void 0===e)return qp("GRPC error has no .code"),Yp.UNKNOWN;switch(e){case rw.OK:return Yp.OK;case rw.CANCELLED:return Yp.CANCELLED;case rw.UNKNOWN:return Yp.UNKNOWN;case rw.DEADLINE_EXCEEDED:return Yp.DEADLINE_EXCEEDED;case rw.RESOURCE_EXHAUSTED:return Yp.RESOURCE_EXHAUSTED;case rw.INTERNAL:return Yp.INTERNAL;case rw.UNAVAILABLE:return Yp.UNAVAILABLE;case rw.UNAUTHENTICATED:return Yp.UNAUTHENTICATED;case rw.INVALID_ARGUMENT:return Yp.INVALID_ARGUMENT;case rw.NOT_FOUND:return Yp.NOT_FOUND;case rw.ALREADY_EXISTS:return Yp.ALREADY_EXISTS;case rw.PERMISSION_DENIED:return Yp.PERMISSION_DENIED;case rw.FAILED_PRECONDITION:return Yp.FAILED_PRECONDITION;case rw.ABORTED:return Yp.ABORTED;case rw.OUT_OF_RANGE:return Yp.OUT_OF_RANGE;case rw.UNIMPLEMENTED:return Yp.UNIMPLEMENTED;case rw.DATA_LOSS:return Yp.DATA_LOSS;default:return Wp()}}(iw=rw||(rw={}))[iw.OK=0]="OK",iw[iw.CANCELLED=1]="CANCELLED",iw[iw.UNKNOWN=2]="UNKNOWN",iw[iw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iw[iw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iw[iw.NOT_FOUND=5]="NOT_FOUND",iw[iw.ALREADY_EXISTS=6]="ALREADY_EXISTS",iw[iw.PERMISSION_DENIED=7]="PERMISSION_DENIED",iw[iw.UNAUTHENTICATED=16]="UNAUTHENTICATED",iw[iw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iw[iw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iw[iw.ABORTED=10]="ABORTED",iw[iw.OUT_OF_RANGE=11]="OUT_OF_RANGE",iw[iw.UNIMPLEMENTED=12]="UNIMPLEMENTED",iw[iw.INTERNAL=13]="INTERNAL",iw[iw.UNAVAILABLE=14]="UNAVAILABLE",iw[iw.DATA_LOSS=15]="DATA_LOSS";let aw=null;function lw(){return new TextEncoder}const cw=new Op([4294967295,4294967295],0);function uw(e){const t=lw().encode(e),n=new Mp;return n.update(t),new Uint8Array(n.digest())}function hw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Op([n,r],0),new Op([i,s],0)]}class dw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fw("Invalid padding: ".concat(t));if(n<0)throw new fw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fw("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Op.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Op.fromNumber(n)));return 1===r.compare(cw)&&(r=new Op([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=uw(e),[n,r]=hw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new dw(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=uw(e),[n,r]=hw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,mw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pw(dm.min(),r,new Eg(lm),cv(),vv())}}class mw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new mw(n,t,vv(),vv(),vv())}}class gw{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class yw{constructor(e,t){this.targetId=e,this.fe=t}}class vw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ww{constructor(){this.ge=0,this.pe=Sw(),this.ye=Pg.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=vv(),t=vv(),n=vv();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wp()}})),new mw(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Sw()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Hp(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class bw{constructor(e){this.Le=e,this.ke=new Map,this.qe=cv(),this.Qe=xw(),this.Ke=new Eg(lm)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Wp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(By(i))if(0===n){const e=new ym(i.path);this.We(t,e,hy.newNoDocument(e,dm.min()))}else Hp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==aw||aw.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Og(n).toUint8Array()}catch(e){if(e instanceof Ng)return Gp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new dw(s,r,i)}catch(e){return Gp(e instanceof fw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&By(i.target)){const t=new ym(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,hy.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=vv();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new pw(e,t,this.Ke,this.qe,n);return this.qe=cv(),this.Qe=xw(),this.Ke=new Eg(lm),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ww,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new kg(lm),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||zp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ww),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function xw(){return new Eg(ym.comparator)}function Sw(){return new Eg(ym.comparator)}const _w={asc:"ASCENDING",desc:"DESCENDING"},Ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tw={and:"AND",or:"OR"};class Iw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kw(e,t){return e.useProto3Json||qm(t)?t:{value:t}}function Cw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Aw(e,t){return Cw(e,t.toTimestamp())}function Nw(e){return Hp(!!e),dm.fromTimestamp(function(e){const t=Rg(e);return new hm(t.seconds,t.nanos)}(e))}function Pw(e,t){return Lw(e,t).canonicalString()}function Lw(e,t){const n=function(e){return new pm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Rw(e){const t=pm.fromString(e);return Hp(nb(t)),t}function Mw(e,t){return Pw(e.databaseId,t.path)}function Ow(e,t){const n=Rw(t);if(n.get(1)!==e.databaseId.projectId)throw new Xp(Yp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Xp(Yp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ym(Bw(n))}function Fw(e,t){return Pw(e.databaseId,t)}function Vw(e){const t=Rw(e);return 4===t.length?pm.emptyPath():Bw(t)}function jw(e){return new pm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bw(e){return Hp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Uw(e,t,n){return{name:Mw(e,t),fields:n.value.mapValue.fields}}function zw(e,t,n){const r=Ow(e,t.name),i=Nw(t.updateTime),s=t.createTime?Nw(t.createTime):dm.min(),o=new cy({mapValue:{fields:t.fields}}),a=hy.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function qw(e,t){let n;if(t instanceof Wv)n={update:Uw(e,t.key,t.value)};else if(t instanceof $v)n={delete:Mw(e,t.key)};else if(t instanceof Hv)n={update:Uw(e,t.key,t.data),updateMask:tb(t.fieldMask)};else{if(!(t instanceof Jv))return Wp();n={verify:Mw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Cv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Wp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Aw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wp()}(e,t.precondition)),n}function Gw(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Vv.updateTime(Nw(e.updateTime)):void 0!==e.exists?Vv.exists(e.exists):Vv.none()}(t.currentDocument):Vv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Hp("REQUEST_TIME"===t.setToServerValue),n=new Cv;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Dv(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Nv(e)}else"increment"in t?n=new Lv(e,t.increment):Wp();const r=gm.fromServerFormat(t.fieldPath);return new Ov(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ow(e,t.update.name),s=new cy({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ag(t.map((e=>gm.fromServerFormat(e))))}(t.updateMask);return new Hv(i,s,e,n,r)}return new Wv(i,s,n,r)}if(t.delete){const r=Ow(e,t.delete);return new $v(r,n)}if(t.verify){const r=Ow(e,t.verify);return new Jv(r,n)}return Wp()}function Kw(e,t){return{documents:[Fw(e,t.path)]}}function Ww(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fw(e,i);const s=function(e){if(0!==e.length)return eb(wy.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Jw(e.field),direction:Yw(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kw(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Hw(e){let t=Vw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Hp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Qw(e);return t instanceof wy&&Sy(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new my(Zw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,qm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dy(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dy(n,t)}(n.endAt)),Ky(t,i,o,s,a,"F",l,c)}function Qw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zw(e.unaryFilter.field);return vy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Zw(e.unaryFilter.field);return vy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zw(e.unaryFilter.field);return vy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Zw(e.unaryFilter.field);return vy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wp()}}(e):void 0!==e.fieldFilter?function(e){return vy.create(Zw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wy.create(e.compositeFilter.filters.map((e=>Qw(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Wp()}}(e.compositeFilter.op))}(e):Wp()}function Yw(e){return _w[e]}function Xw(e){return Ew[e]}function $w(e){return Tw[e]}function Jw(e){return{fieldPath:e.canonicalString()}}function Zw(e){return gm.fromServerFormat(e.fieldPath)}function eb(e){return e instanceof vy?function(e){if("=="===e.op){if(ty(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NAN"}};if(ey(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ty(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NOT_NAN"}};if(ey(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jw(e.field),op:Xw(e.op),value:e.value}}}(e):e instanceof wy?function(e){const t=e.getFilters().map((e=>eb(e)));return 1===t.length?t[0]:{compositeFilter:{op:$w(e.op),filters:t}}}(e):Wp()}function tb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function nb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class rb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dm.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pg.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new rb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ib{constructor(e){this.ct=e}}function sb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ob(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Mw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cw(e,t.version.toTimestamp()),createTime:Cw(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ab(t.version)};else{if(!t.isUnknownDocument())return Wp();r.unknownDocument={path:n.path.toArray(),version:ab(t.version)}}return r}function ob(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ab(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function lb(e){const t=new hm(e.seconds,e.nanoseconds);return dm.fromTimestamp(t)}function cb(e,t){const n=(t.baseMutations||[]).map((t=>Gw(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Gw(e.ct,t))),i=hm.fromMillis(t.localWriteTimeMs);return new Zv(t.batchId,i,n,r)}function ub(e){const t=lb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?lb(e.lastLimboFreeSnapshotVersion):dm.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Hp(1===e.documents.length),Xy(Wy(Vw(e.documents[0])))}(e.query):function(e){return Xy(Hw(e))}(e.query),new rb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Pg.fromBase64String(e.resumeToken))}function hb(e,t){const n=ab(t.snapshotVersion),r=ab(t.lastLimboFreeSnapshotVersion);let i;i=By(t.target)?Kw(e.ct,t.target):Ww(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vy(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function db(e){const t=Hw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zy(t,t.limit,"L"):t}function fb(e,t){return new tw(t.largestBatchId,Gw(e.ct,t.overlayMutation))}function pb(e,t){const n=t.path.lastSegment();return[e,Wm(t.path.popLast()),n]}function mb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:ab(r.readTime),documentKey:Wm(r.documentKey.path),largestBatchId:r.largestBatchId}}class gb{getBundleMetadata(e,t){return yb(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:lb(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return yb(e).put(function(e){return{bundleId:e.id,createTime:ab(Nw(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return vb(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:db(e.bundledQuery),readTime:lb(e.readTime)}}(e)}))}saveNamedQuery(e,t){return vb(e).put(function(e){return{name:e.name,readTime:ab(Nw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function yb(e){return bg(e,"bundles")}function vb(e){return bg(e,"namedQueries")}class wb{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new wb(e,n)}getOverlay(e,t){return bb(e).get(pb(this.userId,t)).next((e=>e?fb(this.serializer,e):null))}getOverlays(e,t){const n=fv();return Am.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new tw(t,i);r.push(this.ht(e,s))})),Am.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Wm(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(bb(e).H("collectionPathOverlayIndex",r))})),Am.waitFor(i)}getOverlaysForCollection(e,t,n){const r=fv(),i=Wm(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return bb(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=fb(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=fv();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bb(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=fb(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return bb(e).put(function(e,t,n){const[r,i,s]=pb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qw(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function bb(e){return bg(e,"documentOverlays")}class xb{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Mg(e.integerValue));else if("doubleValue"in e){const n=Mg(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Gm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Og(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?iy(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Wp()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),ym.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Sb(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function _b(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Sb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}xb.bt=new xb;class Eb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=_b(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=_b(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Tb{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Ib{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class kb{constructor(){this.Gt=new Eb,this.zt=new Tb(this.Gt),this.jt=new Ib(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Cb{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Cb(this.indexId,this.documentKey,this.arrayValue,n)}}function Db(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Ab(e.arrayValue,t.arrayValue),0!==n?n:(n=Ab(e.directionalValue,t.directionalValue),0!==n?n:ym.comparator(e.documentKey,t.documentKey)))}function Ab(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Nb{constructor(e){this.Yt=new kg(((e,t)=>gm.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Hp(e.collectionGroup===this.collectionId),this.en)return!1;const t=wm(e);if(void 0!==t&&!this.nn(t))return!1;const n=bm(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new kg(gm.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new xm(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new xm(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new xm(n.field,"asc"===n.dir?0:1)));return new vm(vm.UNKNOWN_ID,this.collectionId,t,Sm.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pb(e){var t,n;if(Hp(e instanceof vy||e instanceof wy),e instanceof vy){if(e instanceof Ly){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>vy.create(e.field,"==",t))))||[];return wy.create(r,"or")}return e}const r=e.filters.map((e=>Pb(e)));return wy.create(r,e.op)}function Lb(e){if(0===e.getFilters().length)return[];const t=Fb(Pb(e));return Hp(Ob(t)),Rb(t)||Mb(t)?[t]:t.getFilters()}function Rb(e){return e instanceof vy}function Mb(e){return e instanceof wy&&Sy(e)}function Ob(e){return Rb(e)||Mb(e)||function(e){if(e instanceof wy&&xy(e)){for(const t of e.getFilters())if(!Rb(t)&&!Mb(t))return!1;return!0}return!1}(e)}function Fb(e){if(Hp(e instanceof vy||e instanceof wy),e instanceof vy)return e;if(1===e.filters.length)return Fb(e.filters[0]);const t=e.filters.map((e=>Fb(e)));let n=wy.create(t,e.op);return n=Bb(n),Ob(n)?n:(Hp(n instanceof wy),Hp(by(n)),Hp(n.filters.length>1),n.filters.reduce(((e,t)=>Vb(e,t))))}function Vb(e,t){let n;return Hp(e instanceof vy||e instanceof wy),Hp(t instanceof vy||t instanceof wy),n=e instanceof vy?t instanceof vy?function(e,t){return wy.create([e,t],"and")}(e,t):jb(e,t):t instanceof vy?jb(t,e):function(e,t){if(Hp(e.filters.length>0&&t.filters.length>0),by(e)&&by(t))return Iy(e,t.getFilters());const n=xy(e)?e:t,r=xy(e)?t:e,i=n.filters.map((e=>Vb(e,r)));return wy.create(i,"or")}(e,t),Bb(n)}function jb(e,t){if(by(t))return Iy(t,e.getFilters());{const n=t.filters.map((t=>Vb(e,t)));return wy.create(n,"or")}}function Bb(e){if(Hp(e instanceof vy||e instanceof wy),e instanceof vy)return e;const t=e.getFilters();if(1===t.length)return Bb(t[0]);if(_y(e))return e;const n=t.map((e=>Bb(e))),r=[];return n.forEach((t=>{t instanceof vy?r.push(t):t instanceof wy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:wy.create(r,e.op)}class Ub{constructor(){this._n=new zb}addToCollectionParentIndex(e,t){return this._n.add(t),Am.resolve()}getCollectionParents(e,t){return Am.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Am.resolve()}deleteFieldIndex(e,t){return Am.resolve()}deleteAllFieldIndexes(e){return Am.resolve()}createTargetIndexes(e,t){return Am.resolve()}getDocumentsMatchingTarget(e,t){return Am.resolve(null)}getIndexType(e,t){return Am.resolve(0)}getFieldIndexes(e,t){return Am.resolve([])}getNextCollectionGroupToUpdate(e){return Am.resolve(null)}getMinOffset(e,t){return Am.resolve(Tm.min())}getMinOffsetFromCollectionGroup(e,t){return Am.resolve(Tm.min())}updateCollectionGroup(e,t,n){return Am.resolve()}updateIndexEntries(e,t){return Am.resolve()}}class zb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kg(pm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kg(pm.comparator)).toArray()}}const qb=new Uint8Array(0);class Gb{constructor(e,t){this.databaseId=t,this.an=new zb,this.un=new av((e=>Vy(e)),((e,t)=>jy(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Wm(r)};return Kb(e).put(i)}return Am.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[um(t),""],!1,!0);return Kb(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ym(r.parent))}return n}))}addFieldIndex(e,t){const n=Hb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Qb(e);return i.next((e=>{n.put(mb(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Hb(e),r=Qb(e),i=Wb(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Hb(e),n=Wb(e),r=Qb(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Am.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Nb(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Wb(e);let r=!0;const i=new Map;return Am.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=vv();const r=[];return Am.forEach(i,((i,s)=>{zp("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Vy(t)));const o=function(e,t){const n=wm(t);if(void 0===n)return null;for(const r of Uy(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of bm(t))for(const t of Uy(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of bm(t)){const t=0===i.kind?zy(e,i.fieldPath,e.startAt):qy(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new dy(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of bm(t)){const t=0===i.kind?qy(e,i.fieldPath,e.endAt):zy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new dy(n,r)}(s,i),u=this.hn(i,s,l),h=this.hn(i,s,c),d=this.Pn(i,s,a),f=this.In(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return Am.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=ym.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Am.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Lb(wy.create(e.filters,"and")).map((t=>Fy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/l]):qb,h=this.En(e,a,n[u%l],r),d=this.dn(e,a,i[u%l],s),f=o.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new Cb(e,ym.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Cb(e,ym.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Nb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Am.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new kg(gm.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new kb;for(const r of bm(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);xb.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new kb;return xb.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new kb;return xb.bt.Pt($g(this.databaseId,t),n.Ht(function(e){const t=bm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new kb);let i=0;for(const s of bm(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&Zg(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);xb.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new kb;n.seed(e.Wt()),xb.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof vy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Hb(e),r=Qb(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Am.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Sm(t.sequenceNumber,new Tm(lb(t.readTime),new ym(Ym(t.documentKey)),t.largestBatchId)):Sm.empty(),r=e.fields.map((e=>{let[t,n]=e;return new xm(gm.fromServerFormat(t),n)}));return new vm(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:lm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Hb(e),i=Qb(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Am.forEach(t,(t=>i.put(mb(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Am.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Am.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Am.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Am.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Wb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Wb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Wb(e);let i=new kg(Db);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Cb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new kg(Db);const r=this.An(t,e);if(null==r)return n;const i=wm(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Zg(s))for(const i of s.arrayValue.values||[])n=n.add(new Cb(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Cb(t.indexId,e.key,qb,r));return n}wn(e,t,n,r,i){zp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Dg(s),l=Dg(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Dg(o)):t?(i(a),a=Dg(s)):(a=Dg(s),l=Dg(o))}}(r,i,Db,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),Am.waitFor(s)}gn(e){let t=1;return Qb(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Db(e,t))).filter(((e,t,n)=>!t||0!==Db(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Db(s,e),i=Db(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,qb,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,qb,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Db(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Yb)}getMinOffset(e,t){return Am.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Wp())))).next(Yb)}}function Kb(e){return bg(e,"collectionParents")}function Wb(e){return bg(e,"indexEntries")}function Hb(e){return bg(e,"indexConfiguration")}function Qb(e){return bg(e,"indexState")}function Yb(e){Hp(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Im(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tm(t.readTime,t.documentKey,n)}const Xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $b{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $b(e,$b.DEFAULT_COLLECTION_PERCENTILE,$b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jb(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Hp(1===a)})));const c=[];for(const u of n.mutations){const e=Jm(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Am.waitFor(s).next((()=>c))}function Zb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wp();t=e.noDocument}return JSON.stringify(t).length}$b.DEFAULT_COLLECTION_PERCENTILE=10,$b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$b.DEFAULT=new $b(41943040,$b.DEFAULT_COLLECTION_PERCENTILE,$b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$b.DISABLED=new $b(-1,0,0);class ex{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Hp(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ex(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nx(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=rx(e),s=nx(e);return s.add({}).next((o=>{Hp("number"==typeof o);const a=new Zv(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>qw(e.ct,t))),i=n.mutations.map((t=>qw(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new kg(((e,t)=>lm(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Jm(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Zm))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),Am.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return nx(e).get(t).next((e=>e?(Hp(e.userId===this.userId),cb(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Am.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return nx(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Hp(t.batchId>=n),i=cb(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return nx(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nx(e).W("userMutationsIndex",t).next((e=>e.map((e=>cb(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=$m(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return rx(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,c=Ym(a);if(o===this.userId&&t.path.isEqual(c))return nx(e).get(l).next((e=>{if(!e)throw Wp();Hp(e.userId===this.userId),i.push(cb(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kg(lm);const r=[];return t.forEach((t=>{const i=$m(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=rx(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=Ym(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Am.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=$m(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new kg(lm);return rx(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,c=Ym(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(nx(e).get(t).next((e=>{if(null===e)throw Wp();Hp(e.userId===this.userId),n.push(cb(this.serializer,e))})))})),Am.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Jb(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Am.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Am.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return rx(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ym(e[1]);r.push(t)}else n.done()})).next((()=>{Hp(0===r.length)}))}))}containsKey(e,t){return tx(e,this.userId,t)}xn(e){return ix(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function tx(e,t,n){const r=$m(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return rx(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function nx(e){return bg(e,"mutations")}function rx(e){return bg(e,"documentMutations")}function ix(e){return bg(e,"mutationQueues")}class sx{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new sx(0)}static Bn(){return new sx(-1)}}class ox{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new sx(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>dm.fromTimestamp(new hm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ax(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Hp(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ax(e).Y(((s,o)=>{const a=ub(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Am.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ax(e).Y(((e,n)=>{const r=ub(n);t(r)}))}Ln(e){return lx(e).get("targetGlobalKey").next((e=>(Hp(null!==e),e)))}kn(e,t){return lx(e).put("targetGlobalKey",t)}qn(e,t){return ax(e).put(hb(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Vy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ax(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=ub(n);jy(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=cx(e);return t.forEach((t=>{const s=Wm(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Am.waitFor(r)}removeMatchingKeys(e,t,n){const r=cx(e);return Am.forEach(t,(t=>{const i=Wm(t.path);return Am.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=cx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cx(e);let i=vv();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Ym(e[1]),s=new ym(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Wm(t.path),r=IDBKeyRange.bound([n],[um(n)],!1,!0);let i=0;return cx(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return ax(e).get(t).next((e=>e?ub(e):null))}}function ax(e){return bg(e,"targets")}function lx(e){return bg(e,"targetGlobal")}function cx(e){return bg(e,"targetDocuments")}function ux(e,t){let[n,r]=e,[i,s]=t;const o=lm(n,i);return 0===o?lm(r,s):o}class hx{constructor(e){this.Kn=e,this.buffer=new kg(ux),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ux(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){zp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Mm(e)?zp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Dm(e)}await this.zn(3e5)}))}}class fx{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Am.resolve(zm._e);const n=new hx(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(zp("LruGarbageCollector","Garbage collection skipped; disabled"),Am.resolve(Xb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(zp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Xb):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(zp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Up()<=ac.DEBUG&&zp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Am.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function px(e,t){return new fx(e,t)}class mx{constructor(e,t){this.db=e,this.garbageCollector=px(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return gx(e,n)}removeReference(e,t,n){return gx(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gx(e,t)}er(e,t){return function(e,t){let n=!1;return ix(e).Z((r=>tx(e,r,t).next((e=>(e&&(n=!0),Am.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,dm.min()),cx(e).delete(function(e){return[0,Wm(e.path)]}(s)))))}));r.push(t)}})).next((()=>Am.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gx(e,t)}Xn(e,t){const n=cx(e);let r,i=zm._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==zm._e&&t(new ym(Ym(r)),i),i=l,r=a):i=zm._e})).next((()=>{i!==zm._e&&t(new ym(Ym(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gx(e,t){return cx(e).put(function(e,t){return{targetId:0,path:Wm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class yx{constructor(){this.changes=new av((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hy.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Am.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Sx(e).put(n)}removeEntry(e,t,n){return Sx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ob(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=hy.newInvalidDocument(t);return Sx(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_x(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:hy.newInvalidDocument(t)};return Sx(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_x(t))},((e,r)=>{n={document:this.nr(t,r),size:Zb(r)}})).next((()=>n))}getEntries(e,t){let n=cv();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=cv(),r=new Eg(ym.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Zb(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Am.resolve();let r=new kg(Tx);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(_x(r.first()),_x(r.last())),s=r.getIterator();let o=s.getNext();return Sx(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=ym.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Tx(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(_x(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),ob(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sx(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=cv();for(const i of e){const e=this.nr(ym.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(rv(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=cv();const s=Ex(t,n),o=Ex(t,Tm.max());return Sx(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(ym.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new bx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return xx(e).get("remoteDocumentGlobalKey").next((e=>(Hp(!!e),e)))}tr(e,t){return xx(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=zw(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ym.fromSegments(t.noDocument.path),r=lb(t.noDocument.readTime);n=hy.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Wp();{const e=ym.fromSegments(t.unknownDocument.path),r=lb(t.unknownDocument.version);n=hy.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new hm(e[0],e[1]);return dm.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(dm.min()))return e}return hy.newInvalidDocument(e)}}function wx(e){return new vx(e)}class bx extends yx{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new av((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new kg(((e,t)=>lm(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=sb(this.ar.serializer,s);r=r.add(i.path.popLast());const l=Zb(a);n+=l-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=sb(this.ar.serializer,s.convertToNoDocument(dm.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Am.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function xx(e){return bg(e,"remoteDocumentGlobal")}function Sx(e){return bg(e,"remoteDocumentsV14")}function _x(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ex(e,t){const n=t.documentKey.path.toArray();return[e,ob(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Tx(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=lm(n[s],r[s]),i)return i;return i=lm(n.length,r.length),i||(i=lm(n[n.length-2],r[r.length-2]),i||lm(n[n.length-1],r[r.length-1]))}class Ix{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&qv(n.mutation,e,Ag.empty(),hm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,vv()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vv();const r=fv();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=hv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=fv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,vv())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=cv();const s=mv(),o=mv();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Hv)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),qv(o.mutation,t,o.mutation.getFieldMask(),hm.now())):s.set(t.key,Ag.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Ix(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=mv();let r=new Eg(((e,t)=>e-t)),i=vv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Ag.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||vv()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=pv();l.forEach((e=>{if(!i.has(e)){const r=Uv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Am.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ym.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Am.resolve(fv());let o=-1,a=i;return s.next((t=>Am.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Am.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,vv()))).next((e=>({batchId:o,changes:dv(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ym(t)).next((e=>{let t=hv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=hv();return this.indexManager.getCollectionParents(e,i).next((o=>Am.forEach(o,(o=>{const a=function(e,t){return new Gy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,hy.newInvalidDocument(r)))}));let n=hv();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&qv(s.mutation,r,Ag.empty(),hm.now()),rv(t,r)&&(n=n.insert(e,r))})),n}))}}class Cx{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Am.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Nw(e.createTime)}}(t)),Am.resolve()}getNamedQuery(e,t){return Am.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:db(e.bundledQuery),readTime:Nw(e.readTime)}}(t)),Am.resolve()}}class Dx{constructor(){this.overlays=new Eg(ym.comparator),this.hr=new Map}getOverlay(e,t){return Am.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fv();return Am.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Am.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Am.resolve()}getOverlaysForCollection(e,t,n){const r=fv(),i=t.length+1,s=new ym(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Am.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Eg(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=fv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=fv(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Am.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tw(t,n));let i=this.hr.get(t);void 0===i&&(i=vv(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Ax{constructor(){this.Pr=new kg(Nx.Ir),this.Tr=new kg(Nx.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Nx(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Nx(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new ym(new pm([])),n=new Nx(t,e),r=new Nx(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ym(new pm([])),n=new Nx(t,e),r=new Nx(t,e+1);let i=vv();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Nx(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Nx{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ym.comparator(e.key,t.key)||lm(e.pr,t.pr)}static Er(e,t){return lm(e.pr,t.pr)||ym.comparator(e.key,t.key)}}class Px{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new kg(Nx.Ir)}checkEmpty(e){return Am.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zv(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Nx(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Am.resolve(s)}lookupMutationBatch(e,t){return Am.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Am.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Am.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Am.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Nx(t,0),r=new Nx(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Am.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kg(lm);return t.forEach((e=>{const t=new Nx(e,0),r=new Nx(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Am.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ym.isDocumentKey(i)||(i=i.child(""));const s=new Nx(new ym(i),0);let o=new kg(lm);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),Am.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Hp(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Am.forEach(t.mutations,(r=>{const i=new Nx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Nx(t,0),r=this.wr.firstAfterOrEqual(n);return Am.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Am.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Lx{constructor(e){this.vr=e,this.docs=new Eg(ym.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Am.resolve(n?n.document.mutableCopy():hy.newInvalidDocument(t))}getEntries(e,t){let n=cv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hy.newInvalidDocument(e))})),Am.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cv();const s=t.path,o=new ym(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Im(Em(o),n)<=0||(r.has(o.key)||rv(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Am.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Wp()}Fr(e,t){return Am.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Rx(this)}getSize(e){return Am.resolve(this.size)}}class Rx extends yx{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Am.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Mx{constructor(e){this.persistence=e,this.Mr=new av((e=>Vy(e)),jy),this.lastRemoteSnapshotVersion=dm.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ax,this.targetCount=0,this.Br=sx.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Am.resolve()}getLastRemoteSnapshotVersion(e){return Am.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Am.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Am.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Am.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new sx(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Am.resolve()}updateTargetData(e,t){return this.qn(t),Am.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Am.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Am.waitFor(i).next((()=>r))}getTargetCount(e){return Am.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Am.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Am.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Am.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Am.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Am.resolve(n)}containsKey(e,t){return Am.resolve(this.Nr.containsKey(t))}}class Ox{constructor(e,t){this.Lr={},this.overlays={},this.kr=new zm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Mx(this),this.indexManager=new Ub,this.remoteDocumentCache=function(e){return new Lx(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new ib(t),this.$r=new Cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Px(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){zp("MemoryPersistence","Starting transaction:",e);const r=new Fx(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Am.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Fx extends Cm{constructor(e){super(),this.currentSequenceNumber=e}}class Vx{constructor(e){this.persistence=e,this.zr=new Ax,this.jr=null}static Hr(e){return new Vx(e)}get Jr(){if(this.jr)return this.jr;throw Wp()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Am.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Am.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Am.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Am.forEach(this.Jr,(n=>{const r=ym.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,dm.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Am.or([()=>Am.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class jx{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Nm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xm,{unique:!0}),e.createObjectStore("documentMutations")}(e),Bx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Am.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Bx(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xm,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Am.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:hg});t.createIndex("collectionPathOverlayIndex",dg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",fg,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:eg});t.createIndex("documentKeyIndex",tg),t.createIndex("collectionGroupIndex",ng)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ag}).createIndex("sequenceNumberIndex",lg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:cg}).createIndex("documentKeyIndex",ug,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Zb(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Am.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Am.forEach(n,(n=>{Hp(n.userId===t.userId);const r=cb(this.serializer,n);return Jb(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new pm(n),o=function(e){return[0,Wm(e)]}(s);r.push(t.get(o).next((n=>n?Am.resolve():(n=>t.put({targetId:0,path:Wm(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Am.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:og});const n=t.store("collectionParents"),r=new zb,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Wm(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new pm(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Ym(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=ub(n),i=hb(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new ym(pm.fromString(e.document.name).popFirst(5)):e.noDocument?ym.fromSegments(e.noDocument.path):e.unknownDocument?ym.fromSegments(e.unknownDocument.path):Wp()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Am.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=wx(this.serializer),i=new Ox(Vx.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:vv();cb(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Am.forEach(n,((e,n)=>{const s=new Vp(n),o=wb.lt(this.serializer,s),a=i.getIndexManager(s),l=ex.lt(s,this.serializer,a,i.referenceDelegate);return new kx(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new wg(t,zm._e),e).next()}))}))}}function Bx(e){e.createObjectStore("targetDocuments",{keyPath:ig}).createIndex("documentTargetsIndex",sg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rg,{unique:!0}),e.createObjectStore("targetGlobal")}const Ux="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zx{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!zx.D())throw new Xp(Yp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mx(this,r),this.Ti=t+"main",this.serializer=new ib(a),this.Ei=new Pm(this.Ti,this.ui,new jx(this.serializer)),this.Qr=new ox(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wx(this.serializer),this.$r=new gb,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&qp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xp(Yp.FAILED_PRECONDITION,Ux);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new zm(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Gx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Mm(e))return zp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return zp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return qx(e).get("owner").next((e=>Am.resolve(this.Si(e))))}bi(e){return Gx(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=bg(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Am.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Am.resolve(!0):qx(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Xp(Yp.FAILED_PRECONDITION,Ux);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gx(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&zp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new wg(e,zm._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Gx(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return ex.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gb(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return wb.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){zp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?vg:14===e?yg:13===e?gg:12===e?mg:11===e?pg:void Wp()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new wg(r,this.kr?this.kr.next():zm._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw qp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Xp(Yp.FAILED_PRECONDITION,km);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return qx(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Xp(Yp.FAILED_PRECONDITION,Ux)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qx(e).put("owner",t)}static D(){return Pm.D()}yi(e){const t=qx(e);return t.get("owner").next((e=>this.Si(e)?(zp("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Am.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(qp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Gl()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return zp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){qp("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function qx(e){return bg(e,"owner")}function Gx(e){return bg(e,"clientMetadata")}function Kx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Wx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=vv(),r=vv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wx(e,t.fromCache,n,r)}}class Hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Gl()?8:Pm.v(ql())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Hx;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Up()<=ac.DEBUG&&zp("QueryEngine","SDK will not create cache indexes for query:",nv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Am.resolve()):(Up()<=ac.DEBUG&&zp("QueryEngine","Query:",nv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Up()<=ac.DEBUG&&zp("QueryEngine","The SDK decides to create cache indexes for query:",nv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xy(t))):Am.resolve())}ji(e,t){if(Hy(t))return Am.resolve(null);let n=Xy(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Zy(t,null,"F"),n=Xy(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=vv(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Zy(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Hy(t)||r.isEqual(dm.min())?Am.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Am.resolve(null):(Up()<=ac.DEBUG&&zp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nv(t)),this.es(e,s,t,_m(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new kg(sv(e));return t.forEach(((t,r)=>{rv(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Up()<=ac.DEBUG&&zp("QueryEngine","Using full collection scan to execute query:",nv(t)),this.zi.getDocumentsMatchingQuery(e,t,Tm.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Yx{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Eg(lm),this.rs=new av((e=>Vy(e)),jy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kx(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Xx(e,t,n,r){return new Yx(e,t,n,r)}async function $x(e,t){const n=Qp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=vv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Jx(e){const t=Qp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Zx(e,t,n){let r=vv(),i=vv();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=cv();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(dm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):zp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function eS(e,t){const n=Qp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function tS(e,t){const n=Qp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Am.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new rb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function nS(e,t,n){const r=Qp(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Mm(e))throw e;zp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function rS(e,t,n){const r=Qp(e);let i=dm.min(),s=vv();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Qp(e),i=r.rs.get(n);return void 0!==i?Am.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Xy(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:dm.min(),n?s:vv()))).next((e=>(oS(r,iv(t),e),{documents:e,hs:s})))))}function iS(e,t){const n=Qp(e),r=Qp(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function sS(e,t){const n=Qp(e),r=n.ss.get(t)||dm.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,_m(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(oS(n,t,e),e)))}function oS(e,t,n){let r=e.ss.get(t)||dm.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function aS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vv();const r=await tS(e,Xy(db(t.bundledQuery))),i=Qp(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Nw(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(Pg.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function lS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function cS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function uS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class hS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Xp(r.error.code,r.error.message))),s?new hS(e,t,r.state,i):(qp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Xp(n.error.code,n.error.message))),i?new dS(e,n.state,r):(qp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=bv();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Km(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new fS(e,i):(qp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class pS{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pS(t.clientId,t.onlineState):(qp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class mS{constructor(){this.activeTargetIds=bv()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gS{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Eg(lm),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=lS(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new mS),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(lS(this.persistenceKey,n));if(e){const t=fS.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(uS(this.persistenceKey,e));if(n){const r=dS.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uS(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return zp("SharedClientState","READ",e,t),t}setItem(e,t){zp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){zp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(zp("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void qp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=zm._e;if(null!=e)try{const n=JSON.parse(e);Hp("number"==typeof n),t=n}catch(e){qp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==zm._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new hS(this.currentUser,e,t,n),i=cS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=cS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=uS(this.persistenceKey,e),i=new dS(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return fS.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hS.Es(new Vp(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return dS.Es(r,t)}xs(e){return pS.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);zp("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=bv();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class yS{constructor(){this.no=new mS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vS{io(e){}shutdown(){}}class wS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){zp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){zp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bS=null;function xS(){return null===bS?bS=268435456+Math.round(2147483648*Math.random()):bS++,"0x"+bS.toString(16)}const SS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _S{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ES="WebChannelConnection";class TS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=xS(),o=this.bo(e,t.toUriEncodedString());zp("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(zp("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Gp("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=SS[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=xS();return new Promise(((s,o)=>{const a=new Rp;a.setWithCredentials(!0),a.listenOnce(Ap.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Dp.NO_ERROR:const t=a.getResponseJson();zp(ES,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Dp.TIMEOUT:zp(ES,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Xp(Yp.DEADLINE_EXCEEDED,"Request time out"));break;case Dp.HTTP_ERROR:const n=a.getStatus();if(zp(ES,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yp).indexOf(t)>=0?t:Yp.UNKNOWN}(t.status);o(new Xp(e,t.message))}else o(new Xp(Yp.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Xp(Yp.UNAVAILABLE,"Connection failed."));break;default:Wp()}}finally{zp(ES,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);zp(ES,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=xS(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kp(),o=Cp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");zp(ES,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new _S({lo:t=>{d?zp(ES,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(zp(ES,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),zp(ES,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Lp.EventType.OPEN,(()=>{d||zp(ES,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Lp.EventType.CLOSE,(()=>{d||(d=!0,zp(ES,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Lp.EventType.ERROR,(t=>{d||(d=!0,Gp(ES,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Xp(Yp.UNAVAILABLE,"The operation could not be completed")))})),p(u,Lp.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Hp(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){zp(ES,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=rw[e];if(void 0!==t)return ow(t)}(t),i=o.message;void 0===n&&(n=Yp.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new Xp(n,i)),u.close()}else zp(ES,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,Np.STAT_EVENT,(t=>{t.stat===Pp.PROXY?zp(ES,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Pp.NOPROXY&&zp(ES,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function IS(){return"undefined"!=typeof window?window:null}function kS(){return"undefined"!=typeof document?document:null}function CS(e){return new Iw(e,!0)}class DS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&zp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class AS{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new DS(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Yp.RESOURCE_EXHAUSTED?(qp(t.toString()),qp("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Yp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Xp(Yp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return zp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(zp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NS extends AS{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Hp(void 0===t||"string"==typeof t),Pg.fromBase64String(t||"")):(Hp(void 0===t||t instanceof Uint8Array),Pg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Yp.UNKNOWN:ow(e.code);return new Xp(t,e.message||"")}(o);n=new vw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ow(e,r.document.name),s=Nw(r.document.updateTime),o=r.document.createTime?Nw(r.document.createTime):dm.min(),a=new cy({mapValue:{fields:r.document.fields}}),l=hy.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new gw(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ow(e,r.document),s=r.readTime?Nw(r.readTime):dm.min(),o=hy.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gw([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ow(e,r.document),s=r.removedTargetIds||[];n=new gw([],s,i,null)}else{if(!("filter"in t))return Wp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new nw(r,i),o=e.targetId;n=new yw(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return dm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?dm.min():t.readTime?Nw(t.readTime):dm.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=jw(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=By(r)?{documents:Kw(e,r)}:{query:Ww(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Dw(e,t.resumeToken);const r=kw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(dm.min())>0){n.readTime=Cw(e,t.snapshotVersion.toTimestamp());const r=kw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=jw(this.serializer),t.removeTarget=e,this.t_(t)}}class PS extends AS{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Hp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Hp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Nw(e.updateTime):Nw(t);return n.isEqual(dm.min())&&(n=Nw(t)),new Fv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Nw(e.commitTime);return this.listener.T_(n,t)}return Hp(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=jw(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>qw(this.serializer,e)))};this.t_(t)}}class LS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Xp(Yp.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,Lw(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Yp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Xp(Yp.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,Lw(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Yp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Xp(Yp.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class RS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(qp(t),this.g_=!1):zp("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class MS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{GS(this)&&(zp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Qp(e);t.v_.add(4),await FS(t),t.x_.set("Unknown"),t.v_.delete(4),await OS(t)}(this))}))})),this.x_=new RS(n,r)}}async function OS(e){if(GS(e))for(const t of e.F_)await t(!0)}async function FS(e){for(const t of e.F_)await t(!1)}function VS(e,t){const n=Qp(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),qS(n)?zS(n):l_(n).Jo()&&BS(n,t))}function jS(e,t){const n=Qp(e),r=l_(n);n.C_.delete(t),r.Jo()&&US(n,t),0===n.C_.size&&(r.Jo()?r.Xo():GS(n)&&n.x_.set("Unknown"))}function BS(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}l_(e).c_(t)}function US(e,t){e.O_.Oe(t),l_(e).l_(t)}function zS(e){e.O_=new bw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),l_(e).start(),e.x_.p_()}function qS(e){return GS(e)&&!l_(e).Ho()&&e.C_.size>0}function GS(e){return 0===Qp(e).v_.size}function KS(e){e.O_=void 0}async function WS(e){e.C_.forEach(((t,n)=>{BS(e,t)}))}async function HS(e,t){KS(e),qS(e)?(e.x_.S_(t),zS(e)):e.x_.set("Unknown")}async function QS(e,t,n){if(e.x_.set("Online"),t instanceof vw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){zp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await YS(e,n)}else if(t instanceof gw?e.O_.$e(t):t instanceof yw?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(dm.min()))try{const t=await Jx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Pg.EMPTY_BYTE_STRING,r.snapshotVersion)),US(e,t);const i=new rb(r.target,t,n,r.sequenceNumber);BS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){zp("RemoteStore","Failed to raise snapshot:",t),await YS(e,t)}}async function YS(e,t,n){if(!Mm(t))throw t;e.v_.add(1),await FS(e),e.x_.set("Offline"),n||(n=()=>Jx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{zp("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await OS(e)}))}function XS(e,t){return t().catch((n=>YS(e,n,t)))}async function $S(e){const t=Qp(e),n=c_(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;JS(t);)try{const e=await eS(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,ZS(t,e)}catch(e){await YS(t,e)}e_(t)&&t_(t)}function JS(e){return GS(e)&&e.D_.length<10}function ZS(e,t){e.D_.push(t);const n=c_(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function e_(e){return GS(e)&&!c_(e).Ho()&&e.D_.length>0}function t_(e){c_(e).start()}async function n_(e){c_(e).d_()}async function r_(e){const t=c_(e);for(const n of e.D_)t.I_(n.mutations)}async function i_(e,t,n){const r=e.D_.shift(),i=ew.from(r,t,n);await XS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await $S(e)}async function s_(e,t){t&&c_(e).P_&&await async function(e,t){if(function(e){return sw(e)&&e!==Yp.ABORTED}(t.code)){const n=e.D_.shift();c_(e).Zo(),await XS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $S(e)}}(e,t),e_(e)&&t_(e)}async function o_(e,t){const n=Qp(e);n.asyncQueue.verifyOperationInProgress(),zp("RemoteStore","RemoteStore received new credentials");const r=GS(n);n.v_.add(3),await FS(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await OS(n)}async function a_(e,t){const n=Qp(e);t?(n.v_.delete(2),await OS(n)):t||(n.v_.add(2),await FS(n),n.x_.set("Unknown"))}function l_(e){return e.N_||(e.N_=function(e,t,n){const r=Qp(e);return r.R_(),new NS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:WS.bind(null,e),To:HS.bind(null,e),u_:QS.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),qS(e)?zS(e):e.x_.set("Unknown")):(await e.N_.stop(),KS(e))}))),e.N_}function c_(e){return e.B_||(e.B_=function(e,t,n){const r=Qp(e);return r.R_(),new PS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:n_.bind(null,e),To:s_.bind(null,e),E_:r_.bind(null,e),T_:i_.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await $S(e)):(await e.B_.stop(),e.D_.length>0&&(zp("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class u_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $p,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new u_(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xp(Yp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(e,t){if(qp("AsyncQueue","".concat(t,": ").concat(e)),Mm(e))return new Xp(Yp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class d_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ym.comparator(t.key,n.key):(e,t)=>ym.comparator(e.key,t.key),this.keyedMap=hv(),this.sortedSet=new Eg(this.comparator)}static emptySet(e){return new d_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof d_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new d_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class f_{constructor(){this.L_=new Eg(ym.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Wp():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class p_{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new p_(e,t,d_.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class m_{constructor(){this.q_=void 0,this.Q_=[]}}class g_{constructor(){this.queries=new av((e=>tv(e)),ev),this.onlineState="Unknown",this.K_=new Set}}async function y_(e,t){const n=Qp(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new m_),i)try{s.q_=await n.onListen(r)}catch(e){const n=h_(e,"Initialization of query '".concat(nv(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&x_(n)}async function v_(e,t){const n=Qp(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function w_(e,t){const n=Qp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&x_(n)}function b_(e,t,n){const r=Qp(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function x_(e){e.K_.forEach((e=>{e.next()}))}class S_{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new p_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=p_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class __{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class E_{constructor(e){this.serializer=e}Ps(e){return Ow(this.serializer,e)}Is(e){return e.metadata.exists?zw(this.serializer,e.document,!1):hy.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Nw(e)}}class T_{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=I_(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=pm.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new E_(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||vv()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Qp(e);let s=vv(),o=cv();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await tS(i,function(e){return Xy(Wy(pm.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Zx(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new E_(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await aS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function I_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class k_{constructor(e){this.key=e}}class C_{constructor(e){this.key=e}}class D_{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=vv(),this.mutatedKeys=vv(),this.ua=sv(e),this.ca=new d_(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new f_,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=rv(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wp()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const o=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==s.length||l?{snapshot:new p_(this.query,e.ca,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new f_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=vv(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new C_(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new k_(n))})),t}Ra(e){this.oa=e.hs,this.aa=vv();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return p_.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class A_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class N_{constructor(e){this.key=e,this.ma=!1}}class P_{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new av((e=>tv(e)),ev),this.pa=new Map,this.ya=new Set,this.wa=new Eg(ym.comparator),this.Sa=new Map,this.ba=new Ax,this.Da={},this.Ca=new Map,this.va=sx.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function L_(e,t){const n=sE(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await tS(n.localStore,Xy(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await R_(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&VS(n.remoteStore,e)}return i}async function R_(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await rS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return K_(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const s=await rS(e.localStore,t,!0),o=new D_(t,s.hs),a=o.ha(s.documents),l=mw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);K_(e,n,c.da);const u=new A_(t,n,o);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function M_(e,t){const n=Qp(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!ev(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),jS(n.remoteStore,r.targetId),q_(n,r.targetId)})).catch(Dm)):(q_(n,r.targetId),await nS(n.localStore,r.targetId,!0))}async function O_(e,t){const n=Qp(e);try{const e=await function(e,t){const n=Qp(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Pg.EMPTY_BYTE_STRING,dm.min()).withLastLimboFreeSnapshotVersion(dm.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=cv(),l=vv();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Zx(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(dm.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Am.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Hp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Hp(r.ma):e.removedDocuments.size>0&&(Hp(r.ma),r.ma=!1))})),await Q_(n,e,t)}catch(e){await Dm(e)}}function F_(e,t,n){const r=Qp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Qp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&x_(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function V_(e,t,n){const r=Qp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Eg(ym.comparator);e=e.insert(s,hy.newNoDocument(s,dm.min()));const n=vv().add(s),i=new pw(dm.min(),new Map,new Eg(lm),e,n);await O_(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),H_(r)}else await nS(r.localStore,t,!1).then((()=>q_(r,t,n))).catch(Dm)}async function j_(e,t){const n=Qp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Qp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Am.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Hp(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=vv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);z_(n,r,null),U_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Q_(n,e)}catch(e){await Dm(e)}}async function B_(e,t,n){const r=Qp(e);try{const e=await function(e,t){const n=Qp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Hp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);z_(r,t,n),U_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Q_(r,e)}catch(n){await Dm(n)}}function U_(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function z_(e,t,n){const r=Qp(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function q_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||G_(e,t)}))}function G_(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(jS(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),H_(e))}function K_(e,t,n){for(const r of n)r instanceof k_?(e.ba.addReference(r.key,t),W_(e,r)):r instanceof C_?(zp("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||G_(e,r.key)):Wp()}function W_(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(zp("SyncEngine","New document in limbo: "+n),e.ya.add(r),H_(e))}function H_(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new ym(pm.fromString(t)),r=e.va.next();e.Sa.set(r,new N_(n)),e.wa=e.wa.insert(n,r),VS(e.remoteStore,new rb(Xy(Wy(n.path)),r,"TargetPurposeLimboResolution",zm._e))}}async function Q_(e,t,n){const r=Qp(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{o.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Wx.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fa.u_(i),await async function(e,t){const n=Qp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Am.forEach(t,(t=>Am.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Am.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Mm(e))throw e;zp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Y_(e,t){const n=Qp(e);if(!n.currentUser.isEqual(t)){zp("SyncEngine","User change. New user:",t.toKey());const e=await $x(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Xp(Yp.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Q_(n,e.us)}}function X_(e,t){const n=Qp(e),r=n.Sa.get(t);if(r&&r.ma)return vv().add(r.key);{let e=vv();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function $_(e,t){const n=Qp(e),r=await rS(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&K_(n,t.targetId,i.da),i}async function J_(e,t){const n=Qp(e);return sS(n.localStore,t).then((e=>Q_(n,e)))}async function Z_(e,t,n,r){const i=Qp(e),s=await function(e,t){const n=Qp(e),r=Qp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Am.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await $S(i.remoteStore):"acknowledged"===n||"rejected"===n?(z_(i,t,r||null),U_(i,t),function(e,t){Qp(Qp(e).mutationQueue).Mn(t)}(i.localStore,t)):Wp(),await Q_(i,s)):zp("SyncEngine","Cannot apply mutation batch with id: "+t)}async function eE(e,t,n){const r=Qp(e),i=[],s=[];for(const o of t){let e;const t=r.pa.get(o);if(t&&0!==t.length){e=await tS(r.localStore,Xy(t[0]));for(const e of t){const t=r.ga.get(e),n=await $_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await iS(r.localStore,o);e=await tS(r.localStore,t),await R_(r,tE(t),o,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function tE(e){return Ky(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nE(e){return function(e){return Qp(Qp(e).persistence).Li()}(Qp(e).localStore)}async function rE(e,t,n,r){const i=Qp(e);if(i.Fa)return void zp("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await sS(i.localStore,iv(s[0])),r=pw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Pg.EMPTY_BYTE_STRING);await Q_(i,e,r);break}case"rejected":await nS(i.localStore,t,!0),q_(i,t,r);break;default:Wp()}}async function iE(e,t,n){const r=sE(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){zp("SyncEngine","Adding an already active target "+e);continue}const t=await iS(r.localStore,e),n=await tS(r.localStore,t);await R_(r,tE(t),n.targetId,!1,n.resumeToken),VS(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await nS(r.localStore,e,!1).then((()=>{jS(r.remoteStore,e),q_(r,e)})).catch(Dm)}}function sE(e){const t=Qp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=O_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=X_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V_.bind(null,t),t.fa.u_=w_.bind(null,t.eventManager),t.fa.xa=b_.bind(null,t.eventManager),t}function oE(e){const t=Qp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=B_.bind(null,t),t}class aE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=CS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Xx(this.persistence,new Qx,e.initialUser,this.serializer)}createPersistence(e){return new Ox(Vx.Hr,this.serializer)}createSharedClientState(e){return new yS}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lE extends aE{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await oE(this.Na.syncEngine),await $S(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Xx(this.persistence,new Qx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new dx(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Um(t,this.persistence);return new Bm(e.asyncQueue,n)}createPersistence(e){const t=Kx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$b.withCacheSize(this.cacheSizeBytes):$b.DEFAULT;return new zx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,IS(),kS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new yS}}class cE extends lE{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof gS&&(this.sharedClientState.syncEngine={Zs:Z_.bind(null,t),Xs:rE.bind(null,t),eo:iE.bind(null,t),Li:nE.bind(null,t),Ys:J_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Qp(e);if(sE(n),oE(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await eE(n,e.toArray());n.Fa=!0,await a_(n.remoteStore,!0);for(const r of t)VS(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(q_(n,i),nS(n.localStore,i,!0)))),jS(n.remoteStore,i)})),await t,await eE(n,e),function(e){const t=Qp(e);t.Sa.forEach(((e,n)=>{jS(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new Eg(ym.comparator)}(n),n.Fa=!1,await a_(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=IS();if(!gS.D(t))throw new Xp(Yp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Kx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class uE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>F_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y_.bind(null,this.syncEngine),await a_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new g_}createDatastore(e){const t=CS(e.databaseInfo.databaseId),n=function(e){return new TS(e)}(e.databaseInfo);return function(e,t,n,r){return new LS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new MS(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>F_(this.syncEngine,e,0)),wS.D()?new wS:new vS)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new P_(e,t,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Qp(e);zp("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await FS(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function hE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class dE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):qp("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class fE{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new $p,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new __(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class pE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Xp(Yp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Qp(e),r={documents:t.map((e=>Mw(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,pm.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Hp(!!t.found),t.found.name,t.found.updateTime;const n=Ow(e,t.found.name),r=Nw(t.found.updateTime),i=t.found.createTime?Nw(t.found.createTime):dm.min(),s=new cy({mapValue:{fields:t.found.fields}});return hy.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Hp(!!t.missing),Hp(!!t.readTime);const n=Ow(e,t.missing),r=Nw(t.readTime);return hy.newNoDocument(n,r)}(e,t):Wp()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Hp(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new $v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ym.fromPath(t);this.mutations.push(new Jv(n,this.precondition(n)))})),await async function(e,t){const n=Qp(e),r={writes:t.map((e=>qw(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,pm.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wp();t=dm.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Xp(Yp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dm.min())?Vv.exists(!1):Vv.updateTime(t):Vv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dm.min()))throw new Xp(Yp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vv.updateTime(t)}return Vv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mE{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new DS(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new pE(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!qm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sw(t)}return!1}}class gE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vp.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{zp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(zp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xp(Yp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $p;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=h_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yE(e,t){e.asyncQueue.verifyOperationInProgress(),zp("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $x(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function vE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bE(e);zp("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>o_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>o_(t.remoteStore,n))),e._onlineComponents=t}function wE(e){return"FirebaseError"===e.name?e.code===Yp.FAILED_PRECONDITION||e.code===Yp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function bE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){zp("FirestoreClient","Using user provided OfflineComponentProvider");try{await yE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!wE(n))throw n;Gp("Error using user provided cache. Falling back to memory cache: "+n),await yE(e,new aE)}}else zp("FirestoreClient","Using default OfflineComponentProvider"),await yE(e,new aE);return e._offlineComponents}async function xE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(zp("FirestoreClient","Using user provided OnlineComponentProvider"),await vE(e,e._uninitializedComponentsProvider._online)):(zp("FirestoreClient","Using default OnlineComponentProvider"),await vE(e,new uE))),e._onlineComponents}function SE(e){return bE(e).then((e=>e.persistence))}function _E(e){return bE(e).then((e=>e.localStore))}function EE(e){return xE(e).then((e=>e.remoteStore))}function TE(e){return xE(e).then((e=>e.syncEngine))}function IE(e){return xE(e).then((e=>e.datastore))}async function kE(e){const t=await xE(e),n=t.eventManager;return n.onListen=L_.bind(null,t.syncEngine),n.onUnlisten=M_.bind(null,t.syncEngine),n}function CE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $p;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new dE({next:s=>{t.enqueueAndForget((()=>v_(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Xp(Yp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Xp(Yp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new S_(Wy(n.path),s,{includeMetadataChanges:!0,Z_:!0});return y_(e,o)}(await kE(e),e.asyncQueue,t,n,r))),r.promise}function DE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $p;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new dE({next:n=>{t.enqueueAndForget((()=>v_(e,o))),n.fromCache&&"server"===r.source?i.reject(new Xp(Yp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new S_(n,s,{includeMetadataChanges:!0,Z_:!0});return y_(e,o)}(await kE(e),e.asyncQueue,t,n,r))),r.promise}function AE(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?lw().encode(e):e,function(e,t){return new fE(e,t)}(function(e,t){if(e instanceof Uint8Array)return hE(e,t);if(e instanceof ArrayBuffer)return hE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,CS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Qp(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Qp(e),r=Nw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(I_(r));const i=new T_(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const o=await i.complete();return await Q_(e,o.sa,void 0),await function(e,t){const n=Qp(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ia)}catch(e){return Gp("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await TE(e),i,r)}))}function NE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const PE=new Map;function LE(e,t,n){if(!n)throw new Xp(Yp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function RE(e,t,n,r){if(!0===t&&!0===r)throw new Xp(Yp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ME(e){if(!ym.isDocumentKey(e))throw new Xp(Yp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function OE(e){if(ym.isDocumentKey(e))throw new Xp(Yp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Wp()}function VE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xp(Yp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FE(e);throw new Xp(Yp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function jE(e,t){if(t<=0)throw new Xp(Yp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class BE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Xp(Yp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xp(Yp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Xp(Yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Xp(Yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Xp(Yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xp(Yp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xp(Yp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zp;switch(e.type){case"firstParty":return new rm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Xp(Yp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PE.get(e);t&&(zp("ComponentProvider","Removing Datastore"),PE.delete(e),t.terminate())}(this),Promise.resolve()}}function zE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=VE(e,UE))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Gp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vp.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ol(JSON.stringify({alg:"none",type:"JWT"})),Ol(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Xp(Yp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vp(s)}e._authCredentials=new em(new Jp(t,n))}}class qE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qE(this.firestore,e,this._query)}}class GE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new KE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new GE(this.firestore,e,this._key)}}class KE extends qE{constructor(e,t,n){super(e,t,Wy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new GE(this.firestore,null,new ym(e))}withConverter(e){return new KE(this.firestore,e,this._path)}}function WE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tc(e),LE("collection","path",t),e instanceof UE){const n=pm.fromString(t,...r);return OE(n),new KE(e,null,n)}{if(!(e instanceof GE||e instanceof KE))throw new Xp(Yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(pm.fromString(t,...r));return OE(n),new KE(e.firestore,null,n)}}function HE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tc(e),1===arguments.length&&(t=am.newId()),LE("doc","path",t),e instanceof UE){const n=pm.fromString(t,...r);return ME(n),new GE(e,null,new ym(n))}{if(!(e instanceof GE||e instanceof KE))throw new Xp(Yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(pm.fromString(t,...r));return ME(n),new GE(e.firestore,e instanceof KE?e.converter:null,new ym(n))}}function QE(e,t){return e=tc(e),t=tc(t),(e instanceof GE||e instanceof KE)&&(t instanceof GE||t instanceof KE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YE(e,t){return e=tc(e),t=tc(t),e instanceof qE&&t instanceof qE&&e.firestore===t.firestore&&ev(e._query,t._query)&&e.converter===t.converter}class XE{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new DS(this,"async_queue_retry"),this._u=()=>{const e=kS();e&&zp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=kS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=kS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new $p;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Mm(e))throw e;zp("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=u_.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&Wp()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function $E(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class JE{constructor(){this._progressObserver={},this._taskCompletionResolver=new $p,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ZE extends UE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new XE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tT(this),this._firestoreClient.terminate()}}function eT(e){return e._firestoreClient||tT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Bg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,NE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gE(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function nT(e,t,n){const r=new $p;return e.asyncQueue.enqueue((async()=>{try{await yE(e,n),await vE(e,t),r.resolve()}catch(e){const n=e;if(!wE(n))throw n;Gp("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function rT(e){return function(e){const t=new $p;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Qp(e);GS(n.remoteStore)||zp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Qp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=h_(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await TE(e),t))),t.promise}(eT(e=VE(e,ZE)))}function iT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await SE(e),n=await EE(e);return t.setNetworkEnabled(!0),function(e){const t=Qp(e);return t.v_.delete(0),OS(t)}(n)}))}(eT(e=VE(e,ZE)))}function sT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await SE(e),n=await EE(e);return t.setNetworkEnabled(!1),async function(e){const t=Qp(e);t.v_.add(0),await FS(t),t.x_.set("Offline")}(n)}))}(eT(e=VE(e,ZE)))}function oT(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Qp(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await _E(e),t)))}(eT(e=VE(e,ZE)),t).then((t=>t?new qE(e,null,t.query):null))}function aT(e){if(e._initialized||e._terminated)throw new Xp(Yp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lT(Pg.fromBase64String(e))}catch(e){throw new Xp(Yp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new lT(Pg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uT{constructor(e){this._methodName=e}}class hT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xp(Yp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xp(Yp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lm(this._lat,e._lat)||lm(this._long,e._long)}}const dT=/^__.*__$/;class fT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wv(e,this.data,t,this.fieldTransforms)}}class pT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wp()}}class gT{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new gT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return OT(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(mT(this.du)&&dT.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class yT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||CS(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gT({du:e,methodName:t,wu:n,path:gm.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vT(e){const t=e._freezeSettings(),n=CS(e._databaseId);return new yT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);PT("Data must be an object, but it was:",o,r);const a=AT(r,o);let l,c;if(s.merge)l=new Ag(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=LT(t,r,n);if(!o.contains(i))throw new Xp(Yp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));FT(e,i)||e.push(i)}l=new Ag(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new fT(new cy(a),l,c)}class bT extends uT{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bT}}function xT(e,t,n){return new gT({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ST extends uT{_toFieldTransform(e){return new Ov(e.path,new Cv)}isEqual(e){return e instanceof ST}}class _T extends uT{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=xT(this,e,!0),n=this.bu.map((e=>DT(e,t))),r=new Dv(n);return new Ov(e.path,r)}isEqual(e){return e instanceof _T&&Xl(this.bu,e.bu)}}class ET extends uT{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=xT(this,e,!0),n=this.bu.map((e=>DT(e,t))),r=new Nv(n);return new Ov(e.path,r)}isEqual(e){return e instanceof ET&&Xl(this.bu,e.bu)}}class TT extends uT{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Lv(e.serializer,_v(e.serializer,this.Du));return new Ov(e.path,t)}isEqual(e){return e instanceof TT&&this.Du===e.Du}}function IT(e,t,n,r){const i=e.Su(1,t,n);PT("Data must be an object, but it was:",i,r);const s=[],o=cy.empty();Sg(r,((e,r)=>{const a=MT(t,e,n);r=tc(r);const l=i.fu(a);if(r instanceof bT)s.push(a);else{const e=DT(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Ag(s);return new pT(o,a,i.fieldTransforms)}function kT(e,t,n,r,i,s){const o=e.Su(1,t,n),a=[LT(t,r,n)],l=[i];if(s.length%2!=0)throw new Xp(Yp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(LT(t,s[d])),l.push(s[d+1]);const c=[],u=cy.empty();for(let d=a.length-1;d>=0;--d)if(!FT(c,a[d])){const e=a[d];let t=l[d];t=tc(t);const n=o.fu(e);if(t instanceof bT)c.push(e);else{const r=DT(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Ag(c);return new pT(u,h,o.fieldTransforms)}function CT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return DT(n,e.Su(r?4:3,t))}function DT(e,t){if(NT(e=tc(e)))return PT("Unsupported field value:",t,e),AT(e,t);if(e instanceof uT)return function(e,t){if(!mT(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=DT(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _v(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=hm.fromDate(e);return{timestampValue:Cw(t.serializer,n)}}if(e instanceof hm){const n=new hm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cw(t.serializer,n)}}if(e instanceof hT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lT)return{bytesValue:Dw(t.serializer,e._byteString)};if(e instanceof GE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Pw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(FE(e)))}(e,t)}function AT(e,t){const n={};return _g(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sg(e,((e,r)=>{const i=DT(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function NT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hm||e instanceof hT||e instanceof lT||e instanceof GE||e instanceof uT)}function PT(e,t,n){if(!NT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=FE(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function LT(e,t,n){if((t=tc(t))instanceof cT)return t._internalPath;if("string"==typeof t)return MT(e,t);throw OT("Field path arguments must be of type string or ",e,!1,void 0,n)}const RT=new RegExp("[~\\*/\\[\\]]");function MT(e,t,n){if(t.search(RT)>=0)throw OT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new cT(...t.split("."))._internalPath}catch(Au){throw OT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function OT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Xp(Yp.INVALID_ARGUMENT,a+e+l)}function FT(e,t){return e.some((e=>e.isEqual(t)))}class VT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new GE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jT extends VT{data(){return super.data()}}function BT(e,t){return"string"==typeof t?MT(e,t):t instanceof cT?t._internalPath:t._delegate._internalPath}function UT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Xp(Yp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zT{}class qT extends zT{}function GT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof zT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof WT)).length,n=e.filter((e=>e instanceof KT)).length;if(t>1||t>0&&n>0)throw new Xp(Yp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class KT extends qT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new KT(e,t,n)}_apply(e){const t=this._parse(e);return eI(e._query,t),new qE(e.firestore,e.converter,Jy(e._query,t))}_parse(e){const t=vT(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){ZT(o,s);const t=[];for(const n of o)t.push(JT(r,e,n));a={arrayValue:{values:t}}}else a=JT(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ZT(o,s),a=CT(n,t,o,"in"===s||"not-in"===s);return vy.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class WT extends zT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new WT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:wy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)eI(n,i),n=Jy(n,i)}(e._query,t),new qE(e.firestore,e.converter,Jy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class HT extends qT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new HT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new my(t,n)}(e._query,this._field,this._direction);return new qE(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Gy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class QT extends qT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new QT(e,t,n)}_apply(e){return new qE(e.firestore,e.converter,Zy(e._query,this._limit,this._limitType))}}class YT extends qT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new YT(e,t,n)}_apply(e){const t=$T(e,this.type,this._docOrFields,this._inclusive);return new qE(e.firestore,e.converter,function(e,t){return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class XT extends qT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new XT(e,t,n)}_apply(e){const t=$T(e,this.type,this._docOrFields,this._inclusive);return new qE(e.firestore,e.converter,function(e,t){return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $T(e,t,n,r){if(n[0]=tc(n[0]),n[0]instanceof VT)return function(e,t,n,r,i){if(!r)throw new Xp(Yp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Yy(e))if(o.field.isKeyField())s.push($g(t,r.key));else{const e=r.data.field(o.field);if(Fg(e))throw new Xp(Yp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new dy(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=vT(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Xp(Yp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Qy(e)&&-1!==s.indexOf("/"))throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(pm.fromString(s));if(!ym.isDocumentKey(n))throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new ym(n);a.push($g(t,i))}else{const e=CT(n,r,s);a.push(e)}}return new dy(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function JT(e,t,n){if("string"==typeof(n=tc(n))){if(""===n)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qy(t)&&-1!==n.indexOf("/"))throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(pm.fromString(n));if(!ym.isDocumentKey(r))throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $g(e,new ym(r))}if(n instanceof GE)return $g(e,n._key);throw new Xp(Yp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FE(n),"."))}function ZT(e,t){if(!Array.isArray(e)||0===e.length)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function eI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Xp(Yp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Xp(Yp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class tI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Og(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Sg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new hT(Mg(e.latitude),Mg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jg(e));default:return null}}convertTimestamp(e){const t=Rg(e);return new hm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=pm.fromString(e);Hp(nb(n));const r=new Ug(n.get(1),n.get(3)),i=new ym(n.popFirst(5));return r.isEqual(t)||qp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function nI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class rI extends tI{constructor(e){super(),this.firestore=e}convertBytes(e){return new lT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new GE(this.firestore,null,t)}}class iI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sI extends VT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new oI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class oI extends sI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class aI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new iI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new oI(this._firestore,this._userDataWriter,n.key,n,new iI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Xp(Yp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new oI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new iI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new oI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:lI(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wp()}}function cI(e,t){return e instanceof sI&&t instanceof sI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aI&&t instanceof aI&&e._firestore===t._firestore&&YE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class uI extends tI{constructor(e){super(),this.firestore=e}convertBytes(e){return new lT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new GE(this.firestore,null,t)}}function hI(e){e=VE(e,GE);const t=VE(e.firestore,ZE),n=eT(t),r=new uI(t);return function(e,t){const n=new $p;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Qp(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Xp(Yp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=h_(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await _E(e),t,n))),n.promise}(n,e._key).then((n=>new sI(t,r,e._key,n,new iI(null!==n&&n.hasLocalMutations,!0),e.converter)))}function dI(e){e=VE(e,qE);const t=VE(e.firestore,ZE),n=eT(t),r=new uI(t);return function(e,t){const n=new $p;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await rS(e,t,!0),i=new D_(t,r.hs),s=i.ha(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=h_(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await _E(e),t,n))),n.promise}(n,e._query).then((n=>new aI(t,r,e,n)))}function fI(e,t,n){e=VE(e,GE);const r=VE(e.firestore,ZE),i=nI(e.converter,t,n);return yI(r,[wT(vT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vv.none())])}function pI(e,t,n){e=VE(e,GE);const r=VE(e.firestore,ZE),i=vT(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=tc(t))||t instanceof cT?kT(i,"updateDoc",e._key,t,n,a):IT(i,"updateDoc",e._key,t),yI(r,[s.toMutation(e._key,Vv.exists(!0))])}function mI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=tc(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||$E(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if($E(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof GE)h=VE(e.firestore,ZE),d=Wy(e._key.path),u={next:t=>{n[l]&&n[l](vI(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=VE(e,qE);h=VE(t.firestore,ZE),d=t._query;const r=new uI(h);u={next:e=>{n[l]&&n[l](new aI(h,r,t,e))},error:n[l+1],complete:n[l+2]},UT(e._query)}return function(e,t,n,r){const i=new dE(r),s=new S_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>y_(await kE(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>v_(await kE(e),s)))}}(eT(h),d,c,u)}function gI(e,t){return function(e,t){const n=new dE(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Qp(e).K_.add(t),t.next()}(await kE(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Qp(e).K_.delete(t)}(await kE(e),n)))}}(eT(e=VE(e,ZE)),$E(t)?t:{next:t})}function yI(e,t){return function(e,t){const n=new $p;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=oE(e);try{const e=await function(e,t){const n=Qp(e),r=hm.now(),i=t.reduce(((e,t)=>e.add(t.key)),vv());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=cv(),l=vv();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Gv(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Hv(e.key,t,uy(t.value.mapValue),Vv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:dv(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Eg(lm)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Q_(r,e.changes),await $S(r.remoteStore)}catch(e){const t=h_(e,"Failed to persist write");n.reject(t)}}(await TE(e),t,n))),n.promise}(eT(e),t)}function vI(e,t,n){const r=n.docs.get(t._key),i=new uI(e);return new sI(e,i,t._key,r,new iI(n.hasPendingWrites,n.fromCache),t.converter)}const wI={maxAttempts:5};class bI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vT(e)}set(e,t,n){this._verifyNotCommitted();const r=xI(e,this._firestore),i=nI(r.converter,t,n),s=wT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Vv.none())),this}update(e,t,n){this._verifyNotCommitted();const r=xI(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=tc(t))||t instanceof cT?kT(this._dataReader,"WriteBatch.update",r._key,t,n,o):IT(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Vv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xI(e,this._firestore);return this._mutations=this._mutations.concat(new $v(t._key,Vv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xp(Yp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xI(e,t){if((e=tc(e)).firestore!==t)throw new Xp(Yp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class SI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vT(e)}get(e){const t=xI(e,this._firestore),n=new rI(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Wp();const r=e[0];if(r.isFoundDocument())return new VT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new VT(this._firestore,n,t._key,null,t.converter);throw Wp()}))}set(e,t,n){const r=xI(e,this._firestore),i=nI(r.converter,t,n),s=wT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=xI(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=tc(t))||t instanceof cT?kT(this._dataReader,"Transaction.update",r._key,t,n,o):IT(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=xI(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xI(e,this._firestore),n=new uI(this._firestore);return super.get(e).then((e=>new sI(this._firestore,n,t._key,e._document,new iI(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jp=e}(Wc),Bc(new nc("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ZE(new tm(e.getProvider("auth-internal")),new sm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Xp(Yp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ug(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),$c(Fp,"4.4.1",e),$c(Fp,"4.4.1","esm2017")}();function _I(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Xp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function EI(){if("undefined"===typeof Uint8Array)throw new Xp("unimplemented","Uint8Arrays are not available in this environment.")}function TI(){if("undefined"==typeof atob)throw new Xp("unimplemented","Blobs are unavailable in Firestore in this environment.")}class II{constructor(e){this._delegate=e}static fromBase64String(e){return TI(),new II(lT.fromBase64String(e))}static fromUint8Array(e){return EI(),new II(lT.fromUint8Array(e))}toBase64(){return TI(),this._delegate.toBase64()}toUint8Array(){return EI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class CI{enableIndexedDbPersistence(e,t){return function(e,t){aT(e=VE(e,ZE));const n=eT(e);if(n._uninitializedComponentsProvider)throw new Xp(Yp.FAILED_PRECONDITION,"SDK cache is already specified.");Gp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new uE;return nT(n,i,new lE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){aT(e=VE(e,ZE));const t=eT(e);if(t._uninitializedComponentsProvider)throw new Xp(Yp.FAILED_PRECONDITION,"SDK cache is already specified.");Gp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new uE;return nT(t,r,new cE(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Xp(Yp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new $p;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Pm.D())return Promise.resolve();const t=e+"main";await Pm.delete(t)}(Kx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class DI{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ug||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Gp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zE(this._delegate,e,t,n)}enableNetwork(){return iT(this._delegate)}disableNetwork(){return sT(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,RE("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rT(this._delegate)}onSnapshotsInSync(e){return gI(this._delegate,e)}get app(){if(!this._appCompat)throw new Xp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qI(this,WE(this._delegate,e))}catch(t){throw MI(t,"collection()","Firestore.collection()")}}doc(e){try{return new RI(this,HE(this._delegate,e))}catch(t){throw MI(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new BI(this,function(e,t){if(e=VE(e,UE),LE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Xp(Yp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qE(e,null,function(e){return new Gy(pm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw MI(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=VE(e,ZE);const r=Object.assign(Object.assign({},wI),n);return function(e){if(e.maxAttempts<1)throw new Xp(Yp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new $p;return e.asyncQueue.enqueueAndForget((async()=>{const i=await IE(e);new mE(e.asyncQueue,i,n,t,r).ja()})),r.promise}(eT(e),(n=>t(new SI(e,n))),r)}(this._delegate,(t=>e(new NI(this,t))))}batch(){return eT(this._delegate),new PI(new bI(this._delegate,(e=>yI(this._delegate,e))))}loadBundle(e){return function(e,t){const n=eT(e=VE(e,ZE)),r=new JE;return AE(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return oT(this._delegate,e).then((e=>e?new BI(this,e):null))}}class AI extends tI{constructor(e){super(),this.firestore=e}convertBytes(e){return new II(new lT(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return RI.forKey(t,this.firestore,null)}}class NI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}get(e){const t=GI(e);return this._delegate.get(t).then((e=>new VI(this._firestore,new sI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=GI(e);return n?(_I("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=GI(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=GI(e);return this._delegate.delete(t),this}}class PI{constructor(e){this._delegate=e}set(e,t,n){const r=GI(e);return n?(_I("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=GI(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=GI(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class LI{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new oI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jI(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=LI.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new LI(e,new AI(e),t),r.set(t,i)),i}}LI.INSTANCES=new WeakMap;class RI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Xp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new RI(t,new GE(t._delegate,n,new ym(e)))}static forKey(e,t,n){return new RI(t,new GE(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qI(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qI(this.firestore,WE(this._delegate,e))}catch(t){throw MI(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=tc(e))instanceof GE&&QE(this._delegate,e)}set(e,t){t=_I("DocumentReference.set",t);try{return t?fI(this._delegate,e,t):fI(this._delegate,e)}catch(n){throw MI(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pI(this._delegate,e):pI(this._delegate,e,t,...r)}catch(s){throw MI(s,"updateDoc()","DocumentReference.update()")}}delete(){return yI(VE((e=this._delegate).firestore,ZE),[new $v(e._key,Vv.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=OI(t),i=FI(t,(e=>new VI(this.firestore,new sI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return mI(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?hI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VE(e,GE);const t=VE(e.firestore,ZE);return CE(eT(t),e._key,{source:"server"}).then((n=>vI(t,e,n)))}(this._delegate):function(e){e=VE(e,GE);const t=VE(e.firestore,ZE);return CE(eT(t),e._key).then((n=>vI(t,e,n)))}(this._delegate),t.then((e=>new VI(this.firestore,new sI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new RI(this.firestore,e?this._delegate.withConverter(LI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function MI(e,t,n){return e.message=e.message.replace(t,n),e}function OI(e){for(const t of e)if("object"===typeof t&&!kI(t))return t;return{}}function FI(e,t){var n,r;let i;return i=kI(e[0])?e[0]:kI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class VI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new RI(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cI(this._delegate,e._delegate)}}class jI extends VI{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Wp(),t}}class BI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}where(e,t,n){try{return new BI(this.firestore,GT(this._delegate,function(e,t,n){const r=t,i=BT("where",e);return KT._create(i,r,n)}(e,t,n)))}catch(r){throw MI(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new BI(this.firestore,GT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=BT("orderBy",e);return HT._create(n,t)}(e,t)))}catch(n){throw MI(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new BI(this.firestore,GT(this._delegate,(jE("limit",t=e),QT._create("limit",t,"F"))))}catch(t){throw MI(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new BI(this.firestore,GT(this._delegate,(jE("limitToLast",t=e),QT._create("limitToLast",t,"L"))))}catch(t){throw MI(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new BI(this.firestore,GT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YT._create("startAt",t,!0)}(...arguments)))}catch(e){throw MI(e,"startAt()","Query.startAt()")}}startAfter(){try{return new BI(this.firestore,GT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YT._create("startAfter",t,!1)}(...arguments)))}catch(e){throw MI(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new BI(this.firestore,GT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XT._create("endBefore",t,!1)}(...arguments)))}catch(e){throw MI(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new BI(this.firestore,GT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XT._create("endAt",t,!0)}(...arguments)))}catch(e){throw MI(e,"endAt()","Query.endAt()")}}isEqual(e){return YE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?dI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VE(e,qE);const t=VE(e.firestore,ZE),n=eT(t),r=new uI(t);return DE(n,e._query,{source:"server"}).then((n=>new aI(t,r,e,n)))}(this._delegate):function(e){e=VE(e,qE);const t=VE(e.firestore,ZE),n=eT(t),r=new uI(t);return UT(e._query),DE(n,e._query).then((n=>new aI(t,r,e,n)))}(this._delegate),t.then((e=>new zI(this.firestore,new aI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=OI(t),i=FI(t,(e=>new zI(this.firestore,new aI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return mI(this._delegate,r,i)}withConverter(e){return new BI(this.firestore,e?this._delegate.withConverter(LI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class UI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new BI(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new jI(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new UI(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new jI(this._firestore,n))}))}isEqual(e){return cI(this._delegate,e._delegate)}}class qI extends BI{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new RI(this.firestore,e):null}doc(e){try{return new RI(this.firestore,void 0===e?HE(this._delegate):HE(this._delegate,e))}catch(t){throw MI(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=VE(e.firestore,ZE),r=HE(e),i=nI(e.converter,t);return yI(n,[wT(vT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vv.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new RI(this.firestore,e)))}isEqual(e){return QE(this._delegate,e._delegate)}withConverter(e){return new qI(this.firestore,e?this._delegate.withConverter(LI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function GI(e){return VE(e,GE)}class KI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new cT(...t)}static documentId(){return new KI(gm.keyField().canonicalString())}isEqual(e){return(e=tc(e))instanceof cT&&this._delegate._internalPath.isEqual(e._internalPath)}}class WI{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ST("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new WI(e)}static delete(){const e=new bT("deleteField");return e._methodName="FieldValue.delete",new WI(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _T("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new WI(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ET("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new WI(e)}static increment(e){const t=new TT("increment",e);return t._methodName="FieldValue.increment",new WI(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HI={Firestore:DI,GeoPoint:hT,Timestamp:hm,Blob:II,Transaction:NI,WriteBatch:PI,DocumentReference:RI,DocumentSnapshot:VI,Query:BI,QueryDocumentSnapshot:jI,QuerySnapshot:zI,CollectionReference:qI,FieldPath:KI,FieldValue:WI,setLogLevel:function(e){var t;t=e,Bp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var QI;(function(e,t){e.INTERNAL.registerComponent(new nc("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},HI)))})(QI=gu,((e,t)=>new DI(e,t,new CI))),QI.registerVersion("@firebase/firestore-compat","0.3.24");gu.initializeApp({apiKey:"AIzaSyDMkveVMywAdo-vC2niMjO6Rw4E17IAFjs",authDomain:"certificate-verification-4c47c.firebaseapp.com",databaseURL:"https://certificate-verification-4c47c-default-rtdb.firebaseio.com",projectId:"certificate-verification-4c47c",storageBucket:"certificate-verification-4c47c.appspot.com",messagingSenderId:"312051762679",appId:"1:312051762679:web:b29c309e319c3b72a01af2",measurementId:"G-RYL8KLSXMY"});const YI=gu.firestore(),XI=()=>{const{scrollYProgress:e}=Pn(),t=On(e,[0,1],[1,1.5]),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)("borderAnimation"),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)(Il.div,{className:"animated-div",style:{scale:t},children:[(0,Pe.jsxs)("div",{className:"box",children:[(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{}),(0,Pe.jsx)("div",{})]}),(0,Pe.jsx)("div",{style:{color:"white",display:"flex",justifyContent:"center"},children:(0,Pe.jsxs)("div",{style:{textAlign:"center",position:"absolute",top:"35%"},children:[(0,Pe.jsx)("h1",{children:"Verification of Certificates"}),(0,Pe.jsx)("h2",{children:"Fast.Secure.Trusted"})]})})]}),(0,Pe.jsxs)("div",{className:"verify-parent-container",children:[(0,Pe.jsxs)("div",{className:"verify-a",style:{animation:"".concat(c," 2s linear infinite")},children:[(0,Pe.jsx)("h2",{className:"h-style",children:" CERTIFICATE DETAILS"}),a&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"certificate-container",children:(0,Pe.jsx)("p",{className:"p-animate",children:" Enter Your Certificate Id "})}),(0,Pe.jsxs)("div",{className:"arrow",children:[" ",(0,Pe.jsx)("img",{src:"https://i.imgur.com/9JgRHOI.gif",alt:"gif"})]})]}),h&&(0,Pe.jsx)("div",{children:(0,Pe.jsxs)("p",{className:"p-status",style:{color:"#fff;",textAlign:"left"},children:["\xa0\xa0",(0,Pe.jsx)("b",{children:"Name :"}),"\xa0\xa0",s.Name," ",(0,Pe.jsx)("br",{}),"\xa0\xa0",(0,Pe.jsx)("b",{children:"Roll No :"}),"\xa0\xa0 ",s.RollNo," ",(0,Pe.jsx)("br",{}),"\xa0\xa0",(0,Pe.jsx)("b",{children:"Domain :"}),"\xa0\xa0 ",s.Domain," ",(0,Pe.jsx)("br",{}),"\xa0\xa0",(0,Pe.jsx)("b",{children:"From Date :"}),"\xa0\xa0",s.from,(0,Pe.jsx)("br",{}),"\xa0\xa0",(0,Pe.jsx)("b",{children:"To Date :"}),"\xa0\xa0",s.todate,(0,Pe.jsx)("br",{}),"\xa0\xa0",(0,Pe.jsx)("b",{children:"Certificate ID :"}),"\xa0\xa0",s.certificateId]})}),f&&(0,Pe.jsx)("div",{className:"showdiv2",children:(0,Pe.jsxs)("p",{className:"p-status1",style:{color:"#fff",textAlign:"center"},children:["INVALID CODE  ",(0,Pe.jsx)("br",{})," PLEASE TRY AGAIN"]})})]}),(0,Pe.jsx)("div",{className:"verify-b",children:(0,Pe.jsxs)("div",{className:"verify-container",children:[(0,Pe.jsx)("label",{className:"label",children:"Unique Certificate Code:*"}),(0,Pe.jsx)("input",{type:"text",className:"input",name:"message",id:"message",onChange:e=>{i(e.target.value)},value:n}),(0,Pe.jsx)("button",{className:"button",onClick:async()=>{const e=YI.collection("verify"),t=await e.where("certificateId","==",n).get();t.empty?(l(!1),d(!1),p(!0),u("borderAnimation1"),console.log("Certificate not found.")):t.forEach((e=>{const t=e.data();o(t),l(!1),p(!1),d(!0),u("borderAnimation2")}))},children:"Verify"})]})})]}),(0,Pe.jsxs)("div",{className:"home-outer-container",children:[(0,Pe.jsx)("div",{className:"home-centered-text",children:"Verification"}),(0,Pe.jsx)("p",{className:"verify-description",children:"This page allows you to verify whether the certificates you have been presented by one of our students are authentic. Every certificate includes an individual verification number in the bottom right corner of the page. For every electronic certificate that is generated, a record is created and saved in our database. After you have entered the number, the database will verify whether such a record exists. . If it does, you will receive a confirmation of the following information: Student Name, Domain, Certificate ID."})]})]})};function $I(){return(0,Pe.jsx)("div",{children:"Book"})}function JI(){const e=e=>{window.open(e,"_blank")};return(0,Pe.jsx)(Pe.Fragment,{children:(0,Pe.jsxs)("div",{className:"footer-centered-container",children:[(0,Pe.jsx)("div",{className:"footer-centered-text1",children:"Dhara Global Solutions"}),(0,Pe.jsx)("div",{className:"footer-centered-text",children:"dharaglobalsolutions@gmail.com"}),(0,Pe.jsxs)("div",{className:"footer-icons-container",children:[(0,Pe.jsx)("div",{className:"footer-icon",onClick:()=>e("https://www.linkedin.com/company/dhara-global-solutions/"),children:(0,Pe.jsx)("img",{src:"\thttps://i.imgur.com/SiElpuu.png",alt:"LinkedIn Icon"})}),(0,Pe.jsx)("div",{className:"footer-icon",onClick:()=>e("https://mail.google.com/mail/u/0/#inbox"),children:(0,Pe.jsx)("img",{src:"https://i.imgur.com/VBT5TuL.png",alt:"External Link Icon"})}),(0,Pe.jsx)("div",{className:"footer-icon",onClick:()=>e("https://www.instagram.com/dharaglobalsolutions/"),children:(0,Pe.jsx)("img",{src:"https://i.imgur.com/kjUx4vW.png",alt:"Instagram Icon"})})]}),(0,Pe.jsx)("div",{className:"footer-centered-text",children:"\xa92023 by Dhara Global Solutions."})]})})}function ZI(){return(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)(Le,{}),(0,Pe.jsxs)(ge,{children:[(0,Pe.jsx)(pe,{path:"/",element:(0,Pe.jsx)(kl,{})}),(0,Pe.jsx)(pe,{path:"/about",element:(0,Pe.jsx)(Cl,{})}),(0,Pe.jsx)(pe,{path:"/contact",element:(0,Pe.jsx)(Dl,{})}),(0,Pe.jsx)(pe,{path:"/reg",element:(0,Pe.jsx)(Al,{})}),(0,Pe.jsx)(pe,{path:"/services",element:(0,Pe.jsx)(Nl,{})}),(0,Pe.jsx)(pe,{path:"/testimonials",element:(0,Pe.jsx)(Pl,{})}),(0,Pe.jsx)(pe,{path:"/verify",element:(0,Pe.jsx)(XI,{})}),(0,Pe.jsx)(pe,{path:"/book",element:(0,Pe.jsx)($I,{})})]}),(0,Pe.jsx)(JI,{})]})}const ek=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,Pe.jsx)(Ee,{children:(0,Pe.jsx)(ZI,{})})),ek()})()})();
//# sourceMappingURL=main.69a0841d.js.map